<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.dc22e8c7045ddbe5e3b1.css" data-identity="gatsby-global-css">/*!
 * Bootstrap Reboot v4.6.1 (https://getbootstrap.com/)
 * Copyright 2011-2021 The Bootstrap Authors
 * Copyright 2011-2021 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
 * Forked from Normalize.css, licensed MIT (https://github.com/necolas/normalize.css/blob/master/LICENSE.md)
 */*,:after,:before{box-sizing:border-box}html{-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:rgba(0,0,0,0);font-family:sans-serif;line-height:1.15}article,aside,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}body{background-color:#fff;color:#212529;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,Liberation Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-size:1rem;font-weight:400;line-height:1.5;margin:0;text-align:left}[tabindex="-1"]:focus:not(:focus-visible){outline:0!important}hr{box-sizing:content-box;height:0;overflow:visible}h1,h2,h3,h4,h5,h6{margin-bottom:.5rem;margin-top:0}p{margin-bottom:1rem;margin-top:0}abbr[data-original-title],abbr[title]{border-bottom:0;cursor:help;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted;-webkit-text-decoration-skip-ink:none;text-decoration-skip-ink:none}address{font-style:normal;line-height:inherit}address,dl,ol,ul{margin-bottom:1rem}dl,ol,ul{margin-top:0}ol ol,ol ul,ul ol,ul ul{margin-bottom:0}dt{font-weight:700}dd{margin-bottom:.5rem;margin-left:0}blockquote{margin:0 0 1rem}b,strong{font-weight:bolder}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}a{background-color:transparent;color:#007bff;text-decoration:none}a:hover{color:#0056b3;text-decoration:underline}a:not([href]):not([class]),a:not([href]):not([class]):hover{color:inherit;text-decoration:none}code,kbd,pre,samp{font-family:SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}pre{-ms-overflow-style:scrollbar;margin-bottom:1rem;margin-top:0;overflow:auto}figure{margin:0 0 1rem}img{border-style:none}img,svg{vertical-align:middle}svg{overflow:hidden}table{border-collapse:collapse}caption{caption-side:bottom;color:#6c757d;padding-bottom:.75rem;padding-top:.75rem;text-align:left}th{text-align:inherit;text-align:-webkit-match-parent}label{display:inline-block;margin-bottom:.5rem}button{border-radius:0}button:focus:not(:focus-visible){outline:0}button,input,optgroup,select,textarea{font-family:inherit;font-size:inherit;line-height:inherit;margin:0}button,input{overflow:visible}button,select{text-transform:none}[role=button]{cursor:pointer}select{word-wrap:normal}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]:not(:disabled),[type=reset]:not(:disabled),[type=submit]:not(:disabled),button:not(:disabled){cursor:pointer}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}input[type=checkbox],input[type=radio]{box-sizing:border-box;padding:0}textarea{overflow:auto;resize:vertical}fieldset{border:0;margin:0;min-width:0;padding:0}legend{color:inherit;display:block;font-size:1.5rem;line-height:inherit;margin-bottom:.5rem;max-width:100%;padding:0;white-space:normal;width:100%}progress{vertical-align:baseline}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:none;outline-offset:-2px}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}output{display:inline-block}summary{cursor:pointer;display:list-item}template{display:none}[hidden]{display:none!important}.grvsc-container{-webkit-overflow-scrolling:touch;-webkit-font-feature-settings:normal;font-feature-settings:normal;border-radius:8px;border-radius:var(--grvsc-border-radius,8px);line-height:1.4;overflow:auto;padding-bottom:1rem;padding-bottom:var(--grvsc-padding-bottom,var(--grvsc-padding-v,1rem));padding-top:1rem;padding-top:var(--grvsc-padding-top,var(--grvsc-padding-v,1rem));position:relative}.grvsc-code{display:table}.grvsc-line{box-sizing:border-box;display:table-row;width:100%}.grvsc-line,.grvsc-line>*{position:relative}.grvsc-gutter-pad{display:table-cell;padding-left:.75rem;padding-left:calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem))/2)}.grvsc-gutter{display:table-cell;-webkit-user-select:none;-ms-user-select:none;user-select:none}.grvsc-gutter:before{content:attr(data-content)}.grvsc-source{display:table-cell;padding-left:1.5rem;padding-left:var(--grvsc-padding-left,var(--grvsc-padding-h,1.5rem));padding-right:1.5rem;padding-right:var(--grvsc-padding-right,var(--grvsc-padding-h,1.5rem))}.grvsc-source:empty:after{content:" ";-webkit-user-select:none;-ms-user-select:none;user-select:none}.grvsc-gutter+.grvsc-source{padding-left:.75rem;padding-left:calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem))/2)}.grvsc-has-line-highlighting>.grvsc-code>.grvsc-line:before{content:" ";position:absolute;width:100%}.grvsc-line-diff-add:before{background-color:var(--grvsc-line-diff-add-background-color,rgba(0,255,60,.2))}.grvsc-line-diff-del:before{background-color:var(--grvsc-line-diff-del-background-color,rgba(255,0,20,.2))}.grvsc-line-number{opacity:.7;padding:0 2px;text-align:right}:root{--content-spacing:1rem;--shadow:rgba(67,75,81,.25);--grey-100-light:#f1f2f4;--grey-200-light:#e6e8ea;--grey-250-light:#c7cdd1;--grey-300-light:#7e8b95;--grey-400-light:#636f79;--grey-600-light:#49535a;--grey-700-light:#353b41;--grey-800-light:#22272a;--grey-100-dark:#212529;--grey-200-dark:#2d3237;--grey-250-dark:#373e43;--grey-300-dark:#65727b;--grey-400-dark:#86939c;--grey-600-dark:#c7cdd1;--grey-700-dark:#d5d9dd;--grey-800-dark:#e3e6e8;--primary-500-light:#0a71c0;--primary-600-light:#0967ae;--primary-400-dark:#52b4ff;--primary-500-dark:#1f9eff;--note-100-light:#e8ddfd;--note-700-light:#590df2;--note-100-dark:#422e6b;--note-700-dark:#b48fff;--warning-100-light:#fde2e2;--warning-700-light:#d00b0b;--warning-100-dark:#6b2e2e;--warning-700-dark:#ff8f8f;--color-bg-code-light:var(--grey-800-light);--color-bg-code-inline-light:#fff;--color-border-code-inline-light:var(--grey-200-light);--color-bg-code-fold-light:var(--grey-100-light);--color-aside-link-light:var(--primary-600-light);--color-bg-code-dark:var(--grey-200-dark);--color-bg-code-inline-dark:var(--grey-200-dark);--color-border-code-inline-dark:var(--grey-250-dark);--color-bg-code-fold-dark:var(--grey-600-dark);--color-aside-link-dark:var(--primary-400-dark);--grvsc-border-radius:0.32rem;--grvsc-padding-v:1rem;--grvsc-padding-h:1.3rem;--grvsc-line-highlighted-border-width:0.28rem;--grvsc-line-highlighted-border-color:var(--primary-500-dark)}.light-theme:root,:root{--grey-100:var(--grey-100-light);--grey-200:var(--grey-200-light);--grey-250:var(--grey-250-light);--grey-300:var(--grey-300-light);--grey-400:var(--grey-400-light);--grey-600:var(--grey-600-light);--grey-700:var(--grey-700-light);--grey-800:var(--grey-800-light);--primary-500:var(--primary-500-light);--note-100:var(--note-100-light);--note-700:var(--note-700-light);--warning-100:var(--warning-100-light);--warning-700:var(--warning-700-light);--color-bg-code:var(--color-bg-code-light);--color-bg-code-inline:var(--color-bg-code-inline-light);--color-border-code-inline:var(--color-border-code-inline-light);--color-bg-code-fold:var(--color-bg-code-fold-light);--color-aside-link:var(--color-aside-link-light);--grvsc-line-highlighted-background-color:var(--grey-700-light)}@media (prefers-color-scheme:dark){:root{--grey-100:var(--grey-100-dark);--grey-200:var(--grey-200-dark);--grey-250:var(--grey-250-dark);--grey-300:var(--grey-300-dark);--grey-400:var(--grey-400-dark);--grey-600:var(--grey-600-dark);--grey-700:var(--grey-700-dark);--grey-800:var(--grey-800-dark);--primary-500:var(--primary-500-dark);--note-100:var(--note-100-dark);--note-700:var(--note-700-dark);--warning-100:var(--warning-100-dark);--warning-700:var(--warning-700-dark);--color-bg-code:var(--color-bg-code-dark);--color-bg-code-inline:var(--color-bg-code-inline-dark);--color-border-code-inline:var(--color-border-code-inline-dark);--color-bg-code-fold:var(--color-bg-code-fold-dark);--color-aside-link:var(--color-aside-link-dark);--grvsc-line-highlighted-background-color:var(--grey-250-dark)}}.dark-theme:root{--grey-100:var(--grey-100-dark);--grey-200:var(--grey-200-dark);--grey-250:var(--grey-250-dark);--grey-300:var(--grey-300-dark);--grey-400:var(--grey-400-dark);--grey-600:var(--grey-600-dark);--grey-700:var(--grey-700-dark);--grey-800:var(--grey-800-dark);--primary-500:var(--primary-500-dark);--note-100:var(--note-100-dark);--note-700:var(--note-700-dark);--warning-100:var(--warning-100-dark);--warning-700:var(--warning-700-dark);--color-bg-code:var(--color-bg-code-dark);--color-bg-code-inline:var(--color-bg-code-inline-dark);--color-border-code-inline:var(--color-border-code-inline-dark);--color-bg-code-fold:var(--color-bg-code-fold-dark);--color-aside-link:var(--color-aside-link-dark);--grvsc-line-highlighted-background-color:var(--grey-250-dark)}body{background:var(--grey-100);color:var(--grey-600)}p:last-child,ul:last-child{margin-bottom:0}a,a .sublink,a:hover,a:hover .sublink{color:var(--primary-500);text-decoration:underline}.focusable:focus,.focusable:focus-within,a:focus,a:focus .sublink{-moz-outline-radius:3px;outline:2px solid var(--primary-500);outline-offset:.2rem}.link-invisible,.link-invisible:focus,.link-invisible:hover{color:inherit;outline:none;text-decoration:none}.link-no-color-when-inactive:not(:hover):not(:focus):not(:active){color:inherit}code,pre{font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;font-size:.9rem}pre,pre.grvsc-container{background:var(--color-bg-code);line-height:1.38rem;margin:0}pre>code{min-width:100%}:not(pre)>code{background:var(--color-bg-code-inline);border:1px solid var(--color-border-code-inline);border-radius:.3em;color:var(--grey-600);overflow-wrap:break-word;padding:.1em .25em;word-break:break-all}a>code{color:var(--primary-500);text-decoration:none}.grvsc-line.grvsc-line-highlighted{background-color:var(--grvsc-line-highlighted-background-color);box-shadow:inset var(--grvsc-line-highlighted-border-width) 0 0 0 var(--grvsc-line-highlighted-border-color)}.grvsc-has-line-highlighting>.grvsc-code>.grvsc-line:before{content:none}.sr-only{clip:rect(0,0,0,0)!important;border:0!important;height:1px!important;margin:-1px!important;overflow:hidden!important;padding:0!important;position:absolute!important;white-space:nowrap!important;width:1px!important}.svg-inline--fa{display:var(--fa-display,inline-block);height:1em;overflow:visible;vertical-align:-.125em}</style><meta name="generator" content="Gatsby 3.14.6"/><title data-react-helmet="true">Modern Builder design pattern in JavaScript — Blog — Johann Pardanaud</title><link data-react-helmet="true" rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"/><link data-react-helmet="true" rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"/><link data-react-helmet="true" rel="icon" type="image/png" sizes="192x192" href="/favicon-192x192.png"/><link data-react-helmet="true" rel="icon" type="image/png" sizes="512x512" href="/favicon-512x512.png"/><meta data-react-helmet="true" name="description" content="Developer working @batch — Passionate climber"/><meta data-react-helmet="true" property="og:title" content="Modern Builder design pattern in JavaScript — Blog"/><meta data-react-helmet="true" property="og:description" content="Developer working @batch — Passionate climber"/><meta data-react-helmet="true" property="og:image" content="https://johann.pardanaud.com/static/b47f1e280da102414194911b84a320bd/e82a4/featured.webp"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"/><meta data-react-helmet="true" name="twitter:creator" content="@undefined"/><meta data-react-helmet="true" name="twitter:title" content="Modern Builder design pattern in JavaScript — Blog"/><meta data-react-helmet="true" name="twitter:description" content="Developer working @batch — Passionate climber"/><script data-react-helmet="true">
                    const darkMode = localStorage.getItem('dark-mode-preference')
                    if (darkMode === 'true' || darkMode === 'false') {
                        document.querySelector('html').classList.add(darkMode === 'true' ? 'dark-theme' : 'light-theme')
                    }
                </script><style data-styled="" data-styled-version="5.3.3">.bMsSPo{margin:0 auto;padding:0 var(--content-spacing);}/*!sc*/
@media (min-width:768px){.bMsSPo{width:42rem;}}/*!sc*/
@media (min-width:992px){.bMsSPo{width:53rem;}}/*!sc*/
data-styled.g1[id="content__Content-sc-t48hnk-0"]{content:"bMsSPo,"}/*!sc*/
.dzdWzc{position:relative;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;padding:0;background:transparent;border:0;-webkit-appearance:none;-moz-appearance:none;appearance:none;font-size:1.5625rem;color:inherit;}/*!sc*/
.dzdWzc::after{position:absolute;top:-0.5rem;right:-0.5rem;bottom:-0.5rem;left:-0.5rem;content:"";}/*!sc*/
.dnHkDR{position:relative;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;padding:0;background:transparent;border:0;-webkit-appearance:none;-moz-appearance:none;appearance:none;font-size:1.5625rem;}/*!sc*/
.dnHkDR::after{position:absolute;top:-0.5rem;right:-0.5rem;bottom:-0.5rem;left:-0.5rem;content:"";}/*!sc*/
data-styled.g2[id="button__IconButton-sc-ja09rx-0"]{content:"dzdWzc,dnHkDR,"}/*!sc*/
.kzLOCp{-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto;padding:var(--content-spacing) 0;background:var(--grey-200);font-size:1.125rem;font-weight:500;}/*!sc*/
.kzLOCp .content__Content-sc-t48hnk-0{display:grid;grid-template-rows:auto;grid-template-columns:1fr auto;grid-row-gap:1rem;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}/*!sc*/
@media (min-width:768px){.kzLOCp .content__Content-sc-t48hnk-0{grid-template-columns:1fr auto auto;}}/*!sc*/
data-styled.g3[id="header__Container-sc-1fxfhwr-0"]{content:"kzLOCp,"}/*!sc*/
.kftGSv{position:fixed;top:0;left:50%;-webkit-transform:translateX(-50%);-ms-transform:translateX(-50%);transform:translateX(-50%);}/*!sc*/
.kftGSv:not(:focus){opacity:0;pointer-events:none;}/*!sc*/
data-styled.g4[id="header__SkipLink-sc-1fxfhwr-1"]{content:"kftGSv,"}/*!sc*/
.kVWvDI{margin:0;font-size:inherit;font-weight:inherit;text-transform:uppercase;}/*!sc*/
data-styled.g5[id="header__TitleStrong-sc-1fxfhwr-2"]{content:"kVWvDI,"}/*!sc*/
@media (min-width:768px){.dmhOll{display:none;}}/*!sc*/
data-styled.g7[id="header__MenuButton-sc-1fxfhwr-4"]{content:"dmhOll,"}/*!sc*/
.edNlKR{grid-column:span 2;display:none;justify-items:end;grid-row-gap:calc(var(--content-spacing) * 2);grid-column-gap:calc(var(--content-spacing) * 3.5);}/*!sc*/
.edNlKR nav{display:grid;justify-items:end;}/*!sc*/
@media (min-width:768px){.edNlKR{display:grid;grid-auto-flow:column;}.edNlKR nav{grid-auto-flow:column;grid-gap:calc(var(--content-spacing) * 1.5);}}/*!sc*/
data-styled.g8[id="header__Menu-sc-1fxfhwr-5"]{content:"edNlKR,"}/*!sc*/
.eMRrAM:not(:hover):not(:focus):not(:active):not(.active){-webkit-text-decoration:none;text-decoration:none;}/*!sc*/
data-styled.g9[id="header__NavLink-sc-1fxfhwr-6"]{content:"eMRrAM,"}/*!sc*/
.ccpENp{opacity:1;color:inherit;font-size:1.125rem;}/*!sc*/
.cbmlNR{opacity:0.3;color:inherit;font-size:1.125rem;}/*!sc*/
data-styled.g10[id="dark-mode__DarkModeIcon-sc-1kkowl3-0"]{content:"ccpENp,cbmlNR,"}/*!sc*/
.bOEjwE{display:grid;grid-template:"icon";margin:0 calc(var(--content-spacing) / 2);font-size:0.3125rem;}/*!sc*/
.bOEjwE svg{grid-area:icon;}/*!sc*/
.bOEjwE svg:nth-child(1){opacity:0;}/*!sc*/
.bOEjwE svg:nth-child(2){z-index:1;color:var(--primary-500);opacity:1;}/*!sc*/
data-styled.g11[id="dark-mode__DarkModeState-sc-1kkowl3-1"]{content:"bOEjwE,"}/*!sc*/
.cRwCOK{position:absolute;top:calc(100% + calc(var(--content-spacing) / 2));left:50%;-webkit-transform:translateX(-50%);-ms-transform:translateX(-50%);transform:translateX(-50%);border-radius:3px;padding:0.1em 0.4em;background:var(--grey-400);font-size:0.75rem;color:var(--grey-100);pointer-events:none;opacity:0;}/*!sc*/
data-styled.g12[id="dark-mode__DarkModeTooltip-sc-1kkowl3-2"]{content:"cRwCOK,"}/*!sc*/
.bHoUps{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;position:relative;margin:0;cursor:pointer;}/*!sc*/
.bHoUps .dark-mode__DarkModeTooltip-sc-1kkowl3-2,.bHoUps .dark-mode__DarkModeIcon-sc-1kkowl3-0,.bHoUps .dark-mode__DarkModeState-sc-1kkowl3-1 svg{-webkit-transition:all ease 250ms;transition:all ease 250ms;}/*!sc*/
.bHoUps:hover .dark-mode__DarkModeTooltip-sc-1kkowl3-2,.bHoUps:focus .dark-mode__DarkModeTooltip-sc-1kkowl3-2{opacity:1;}/*!sc*/
data-styled.g13[id="dark-mode__DarkModeContainer-sc-1kkowl3-3"]{content:"bHoUps,"}/*!sc*/
.iXgTak{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;width:100vw;min-height:100vh;}/*!sc*/
data-styled.g14[id="layout__Container-sc-z8c7q8-0"]{content:"iXgTak,"}/*!sc*/
.hTFlju{-webkit-flex:1 0 auto;-ms-flex:1 0 auto;flex:1 0 auto;padding:calc(var(--content-spacing) * 3) 0;}/*!sc*/
data-styled.g15[id="layout__Body-sc-z8c7q8-1"]{content:"hTFlju,"}/*!sc*/
.zFedH{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;gap:var(--content-spacing);margin-bottom:1.5rem;border-left:4px solid;padding:0.6rem 1rem;line-height:1.6;}/*!sc*/
.zFedH a,.zFedH a:hover{color:var(--color-aside-link);}/*!sc*/
data-styled.g26[id="aside__Aside-sc-21wzby-0"]{content:"zFedH,"}/*!sc*/
.etythn{-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto;font-size:2rem;}/*!sc*/
data-styled.g27[id="aside__AsideIcon-sc-21wzby-1"]{content:"etythn,"}/*!sc*/
.laIcTq{overflow:hidden;}/*!sc*/
data-styled.g28[id="aside__AsideContent-sc-21wzby-2"]{content:"laIcTq,"}/*!sc*/
.kqmYcF{background:var(--note-100);color:var(--note-700);}/*!sc*/
data-styled.g29[id="aside__StyledNote-sc-21wzby-3"]{content:"kqmYcF,"}/*!sc*/
.bQTAzX{display:grid;grid-template-columns:[head-start hr-start content-start] repeat(10,auto) 1fr [head-end hr-end content-end];grid-template-rows:[head-start] auto [head-end hr-start] 1px [hr-end content-start] auto [content-end];grid-auto-flow:row dense;margin-bottom:1rem;border-radius:var(--grvsc-border-radius);background:var(--color-bg-code);overflow:auto;}/*!sc*/
data-styled.g31[id="tabs__StyledTabs-sc-r72q5y-0"]{content:"bQTAzX,"}/*!sc*/
.eLxdTR{grid-area:hr;background:var(--grey-600-light);}/*!sc*/
data-styled.g33[id="tabs__Separator-sc-r72q5y-2"]{content:"eLxdTR,"}/*!sc*/
.fPGOqD{position:relative;z-index:1;border:none;margin:0;padding:1rem 1.5rem 1.15rem;background:transparent;font-size:1rem;white-space:nowrap;color:var(--grey-250-light);cursor:pointer;outline-offset:-0.5rem !important;}/*!sc*/
.fPGOqD::after{position:absolute;bottom:0.8rem;left:50%;-webkit-transform:translateX(-50%);-ms-transform:translateX(-50%);transform:translateX(-50%);width:calc(90% - 1.5rem * 2);height:0.15em;background:currentColor;border-radius:0.15em;visibility:hidden;content:"";}/*!sc*/
.fPGOqD:hover::after{background-color:currentColor;visibility:visible;}/*!sc*/
data-styled.g34[id="tabs__StyledTabHeader-sc-r72q5y-3"]{content:"fPGOqD,"}/*!sc*/
.gcZeIL{grid-area:content;max-width:100%;}/*!sc*/
.gcZeIL > *{margin-bottom:0 !important;}/*!sc*/
data-styled.g35[id="tabs__StyledTab-sc-r72q5y-4"]{content:"gcZeIL,"}/*!sc*/
.hcGGwe{display:none;}/*!sc*/
.hcGGwe:not(:checked) + .tabs__StyledTab-sc-r72q5y-4{display:none;}/*!sc*/
.hcGGwe:not(:checked) + .tabs__StyledTabHeader-sc-r72q5y-3 + .tabs__StyledTab-sc-r72q5y-4{display:none;}/*!sc*/
.hcGGwe:checked + .tabs__StyledTabHeader-sc-r72q5y-3::after{background:var(--primary-500-dark);visibility:visible;}/*!sc*/
data-styled.g36[id="tabs__StyledInput-sc-r72q5y-5"]{content:"hcGGwe,"}/*!sc*/
.djFbkI{--size:calc(var(--button-radius) * 2);position:absolute;top:0;left:50%;z-index:1;-webkit-transform:translate(-50%,calc(var(--button-offset) * -100%));-ms-transform:translate(-50%,calc(var(--button-offset) * -100%));transform:translate(-50%,calc(var(--button-offset) * -100%));display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;border-radius:var(--size);min-width:var(--size);height:var(--size);background:var(--color-bg-code-fold);border:0.2rem solid var(--color-bg-code);color:var(--color-bg-code);cursor:pointer;}/*!sc*/
data-styled.g37[id="code-fold__Label-sc-1srb7sn-0"]{content:"djFbkI,"}/*!sc*/
.eGXXRT{display:none;}/*!sc*/
.eGXXRT:checked + .code-fold__Label-sc-1srb7sn-0 svg{-webkit-transform:rotateZ(45deg);-ms-transform:rotateZ(45deg);transform:rotateZ(45deg);}/*!sc*/
.eGXXRT:not(:checked) + .code-fold__Label-sc-1srb7sn-0 + pre .grvsc-line-highlighted{display:none;}/*!sc*/
data-styled.g38[id="code-fold__Input-sc-1srb7sn-1"]{content:"eGXXRT,"}/*!sc*/
.eLYoyQ{--button-radius:0.9rem;--button-offset:0.35;position:relative;}/*!sc*/
.eLYoyQ pre{padding-top:calc( (var(--grvsc-padding-top,var(--grvsc-padding-v,1rem)) / 2) + (var(--button-radius) * 2) - (var(--button-radius) * 2 * var(--button-offset)) );}/*!sc*/
data-styled.g39[id="code-fold__StyledCodeFold-sc-1srb7sn-2"]{content:"eLYoyQ,"}/*!sc*/
.kVtDtt .content__Content-sc-t48hnk-0{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column-reverse;-ms-flex-direction:column-reverse;flex-direction:column-reverse;}/*!sc*/
.kVtDtt h1{font-size:2.5rem;-webkit-letter-spacing:0.015rem;-moz-letter-spacing:0.015rem;-ms-letter-spacing:0.015rem;letter-spacing:0.015rem;line-height:3.5rem;margin:0.5rem 0 2.5rem;}/*!sc*/
data-styled.g42[id="post__Header-sc-l8w1nw-0"]{content:"kVtDtt,"}/*!sc*/
.bRrpOE{font-size:0.8rem;color:var(--grey-400);}/*!sc*/
.bRrpOE address{display:inline;}/*!sc*/
data-styled.g43[id="post__Metadata-sc-l8w1nw-1"]{content:"bRrpOE,"}/*!sc*/
.kzuCuO{position:-webkit-sticky;position:sticky;top:25vh;}/*!sc*/
.kzuCuO >:first-child{position:absolute;left:100%;}/*!sc*/
@media (max-width:767.98px){.kzuCuO{display:none;}}/*!sc*/
@media (min-width:992px){.kzuCuO >:first-child{left:calc(100% + var(--content-spacing) * 1.5);}}/*!sc*/
data-styled.g44[id="post__Share-sc-l8w1nw-2"]{content:"kzuCuO,"}/*!sc*/
.iHUsPX{display:inline-block;margin-bottom:0.5rem;}/*!sc*/
data-styled.g45[id="post__StyledShareButton-sc-l8w1nw-3"]{content:"iHUsPX,"}/*!sc*/
.iwZWCm{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;font-size:1.1rem;}/*!sc*/
.iwZWCm > *{max-width:100%;}/*!sc*/
.iwZWCm .post__Header-sc-l8w1nw-0{-webkit-order:-2;-ms-flex-order:-2;order:-2;}/*!sc*/
.iwZWCm .post__Share-sc-l8w1nw-2{-webkit-order:-1;-ms-flex-order:-1;order:-1;}/*!sc*/
.iwZWCm h2{margin-top:2.1rem;font-size:1.6rem;}/*!sc*/
.iwZWCm h3{margin-top:1.8rem;font-size:1.3rem;}/*!sc*/
.iwZWCm h4{margin-top:1.6rem;font-size:1.1rem;}/*!sc*/
.iwZWCm h5{margin-top:1.4rem;font-size:0.9rem;}/*!sc*/
.iwZWCm h6{margin-top:1.25rem;font-size:0.75rem;}/*!sc*/
.iwZWCm blockquote{border-left:4px solid;padding:0.3rem 1rem;line-height:1.6;font-style:italic;}/*!sc*/
.iwZWCm pre{margin-bottom:1rem;}/*!sc*/
data-styled.g46[id="post__Post-sc-l8w1nw-4"]{content:"iwZWCm,"}/*!sc*/
.fVFuJw{margin-bottom:2.5rem;}/*!sc*/
data-styled.g47[id="post__FeaturedImage-sc-l8w1nw-5"]{content:"fVFuJw,"}/*!sc*/
.buhAuq{position:absolute;top:50%;right:calc(100% + var(--content-spacing));-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);font-size:0.75em;opacity:0;}/*!sc*/
.buhAuq:hover,.buhAuq:focus,.buhAuq:active{opacity:1;}/*!sc*/
.buhAuq::before{position:absolute;top:0%;left:100%;width:var(--content-spacing);height:100%;content:"";}/*!sc*/
@media (max-width:767.98px){.buhAuq{display:none;}}/*!sc*/
data-styled.g48[id="post__HeadingLink-sc-l8w1nw-6"]{content:"buhAuq,"}/*!sc*/
.iyjDKM{position:relative;}/*!sc*/
.iyjDKM:hover .post__HeadingLink-sc-l8w1nw-6{opacity:1;}/*!sc*/
data-styled.g49[id="post__Heading-sc-l8w1nw-7"]{content:"iyjDKM,"}/*!sc*/
</style><link rel="sitemap" type="application/xml" href="/sitemap/sitemap-index.xml"/><link rel="alternate" type="application/rss+xml" title="Johann Pardanaud&#x27;s RSS Feed" href="/rss.xml"/><link as="script" rel="preload" href="/webpack-runtime-8b19332fe2a1c88eb1a0.js"/><link as="script" rel="preload" href="/framework-48c52bd1e5a78d41fccc.js"/><link as="script" rel="preload" href="/app-b8f044a4d43bf259ef7a.js"/><link as="script" rel="preload" href="/cb1608f2-204ee177e0779f974097.js"/><link as="script" rel="preload" href="/a9a7754c-af050843e75a27779682.js"/><link as="script" rel="preload" href="/commons-5b2d0278f9ad19a149ab.js"/><link as="script" rel="preload" href="/291a736a4998dc6bb1e7dae6dfd245355445eafd-6ac33ee7d44586680e94.js"/><link as="script" rel="preload" href="/component---src-templates-post-js-dcb8e9e5dfbdb1e3ac22.js"/><link as="fetch" rel="preload" href="/page-data/blog/modern-builder-design-pattern-in-javascript/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/1092343521.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="layout__Container-sc-z8c7q8-0 iXgTak"><header class="header__Container-sc-1fxfhwr-0 kzLOCp"><a href="#main" class="header__SkipLink-sc-1fxfhwr-1 kftGSv">Skip to content</a><div class="content__Content-sc-t48hnk-0 bMsSPo"><strong class="header__TitleStrong-sc-1fxfhwr-2 kVWvDI">Johann Pardanaud</strong><button aria-label="Open menu" class="button__IconButton-sc-ja09rx-0 header__MenuButton-sc-1fxfhwr-4 dzdWzc dmhOll focusable"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="bars" class="svg-inline--fa fa-bars " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"></path></svg></button><div class="header__Menu-sc-1fxfhwr-5 edNlKR"><nav><a class="header__NavLink-sc-1fxfhwr-6 eMRrAM link-no-color-when-inactive" href="/">About</a><a class="header__NavLink-sc-1fxfhwr-6 eMRrAM link-no-color-when-inactive active" href="/blog/">Blog</a></nav><div class="dark-mode__DarkModeContainer-sc-1kkowl3-3 bHoUps focusable" tabindex="0" role="checkbox" aria-checked="mixed" aria-label="Dark mode: auto"><span class="dark-mode__DarkModeTooltip-sc-1kkowl3-2 cRwCOK">Auto</span><span class="dark-mode__DarkModeIcon-sc-1kkowl3-0 ccpENp"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="sun" class="svg-inline--fa fa-sun " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"></path></svg></span><span class="dark-mode__DarkModeState-sc-1kkowl3-1 bOEjwE"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="circle" class="svg-inline--fa fa-circle " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8z"></path></svg><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="circle" class="svg-inline--fa fa-circle " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8z"></path></svg></span><span class="dark-mode__DarkModeIcon-sc-1kkowl3-0 cbmlNR"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="moon" class="svg-inline--fa fa-moon " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"></path></svg></span></div></div></div></header><main id="main" class="layout__Body-sc-z8c7q8-1 hTFlju"><article class="post__Post-sc-l8w1nw-4 iwZWCm"><header class="post__Header-sc-l8w1nw-0 kVtDtt"><div class="content__Content-sc-t48hnk-0 bMsSPo"><h1>Modern Builder design pattern in JavaScript</h1><p class="post__Metadata-sc-l8w1nw-1 bRrpOE">Published<!-- --> <time dateTime="2022-06-01T00:00:00.000Z">1st June 2022</time>, by Johann Pardanaud</p></div><div class="post__FeaturedImage-sc-l8w1nw-5 fVFuJw gatsby-image-wrapper" style="position:relative;overflow:hidden"><div aria-hidden="true" style="width:100%;padding-bottom:37.5%"></div><img aria-hidden="true" src="data:image/webp;base64,UklGRqIAAABXRUJQVlA4WAoAAAAQAAAAEwAABwAAQUxQSBMAAAABD9D/iAgQCFAU/u82IaL/ATsBAFZQOCBoAAAAsAMAnQEqFAAIAD5tLJJFpCKhmAQAQAbEs4BOgBA/+q4leWjdQMgA/vx+O+Jyb81pBiiIuyE90SLB6i+0ZFU/4Kvc2gA+EKei6EvAnIIPNYjbkBx3yUcIde+cb5HLZAc7fbz3iqr1AAA=" alt="" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition-delay:500ms"/><noscript><picture><source type='image/webp' srcset="/static/b47f1e280da102414194911b84a320bd/2420f/featured.webp 640w,
/static/b47f1e280da102414194911b84a320bd/99b9e/featured.webp 1280w,
/static/b47f1e280da102414194911b84a320bd/cf520/featured.webp 2560w" sizes="(max-width: 2560px) 100vw, 2560px" /><source srcset="/static/b47f1e280da102414194911b84a320bd/2420f/featured.webp 640w,
/static/b47f1e280da102414194911b84a320bd/99b9e/featured.webp 1280w,
/static/b47f1e280da102414194911b84a320bd/cf520/featured.webp 2560w" sizes="(max-width: 2560px) 100vw, 2560px" /><img loading="lazy" sizes="(max-width: 2560px) 100vw, 2560px" srcset="/static/b47f1e280da102414194911b84a320bd/2420f/featured.webp 640w,
/static/b47f1e280da102414194911b84a320bd/99b9e/featured.webp 1280w,
/static/b47f1e280da102414194911b84a320bd/cf520/featured.webp 2560w" src="/static/b47f1e280da102414194911b84a320bd/cf520/featured.webp" alt="" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div></header><div class="content__Content-sc-t48hnk-0 bMsSPo"><p><a href="https://refactoring.guru/design-patterns/builder">The Builder pattern</a> is one of the best known design patterns among the developers. While it is abundantly used in some languages, like Java, it can be relatively absent in other languages, like JavaScript.</p><p>There might be a few reasons this design pattern is not used in some language communities, here are two that come to my mind:</p><ul><li>The language lacks access modifiers, making the built object exposed to mutability, annihilating the use of the builder.</li><li>The Builder pattern has a bad reputation inside the community, because it is seen as verbose for little to none advantages.</li></ul><h2 id="why-you-might-want-to-use-the-builder-pattern" class="post__Heading-sc-l8w1nw-7 iyjDKM"><a href="#why-you-might-want-to-use-the-builder-pattern" class="button__IconButton-sc-ja09rx-0 post__HeadingLink-sc-l8w1nw-6 dnHkDR buhAuq link-no-color-when-inactive link-no-color-when-inactive" title="Link to &quot;Why you might want to use the Builder pattern&quot; heading" aria-hidden="true"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="link" class="svg-inline--fa fa-link " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"></path></svg></a>Why you <em>might</em> want to use the Builder pattern</h2><p>Imagine, as an example, that we have the following <code>User</code> class in our code:</p><section role="tablist" class="tabs__StyledTabs-sc-r72q5y-0 bQTAzX"><div class="tabs__Separator-sc-r72q5y-2 eLxdTR"></div><input type="radio" id="tab-input-877927" name="tabs-921728" checked="" class="tabs__StyledInput-sc-r72q5y-5 hcGGwe"/><label id="tab-877927" class="tabs__StyledTabHeader-sc-r72q5y-3 fPGOqD focusable" for="tab-input-877927" tabindex="0" role="tab" aria-selected="false">TypeScript</label><div role="tabpanel" aria-labelledby="tab-877927" class="tabs__StyledTab-sc-r72q5y-4 gcZeIL"><pre class="grvsc-container one-dark-pro" data-language="ts" data-index="0"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source"><span class="mtk9">class</span><span class="mtk1"> </span><span class="mtk11">User</span><span class="mtk1"> {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk4">firstName</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk6">&quot;(none)&quot;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk4">middleNames</span><span class="mtk1">: </span><span class="mtk11">string</span><span class="mtk1">[] </span><span class="mtk8">=</span><span class="mtk1"> []</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk4">lastName</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk6">&quot;(none)&quot;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk4">email</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk6">&quot;(none)&quot;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk4">birthDate</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk9">new</span><span class="mtk1"> </span><span class="mtk11">Date</span><span class="mtk1">()</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">}</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk5 mtki">// usage:</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk9">const</span><span class="mtk1"> </span><span class="mtk11">user</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk9">new</span><span class="mtk1"> </span><span class="mtk11">User</span><span class="mtk1">()</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk11">user</span><span class="mtk1">.</span><span class="mtk4">firstName</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk6">&quot;John&quot;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk11">user</span><span class="mtk1">.</span><span class="mtk4">middleNames</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> [</span><span class="mtk6">&quot;Larry&quot;</span><span class="mtk1">]</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk11">user</span><span class="mtk1">.</span><span class="mtk4">lastName</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk6">&quot;Doe&quot;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk11">user</span><span class="mtk1">.</span><span class="mtk4">email</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk6">&quot;john@doe.com&quot;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk11">user</span><span class="mtk1">.</span><span class="mtk4">birthDate</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk9">new</span><span class="mtk1"> </span><span class="mtk11">Date</span><span class="mtk1">(</span><span class="mtk6">&quot;1990-01-01&quot;</span><span class="mtk1">)</span></span></span></code></pre></div><input type="radio" id="tab-input-148295" name="tabs-921728" class="tabs__StyledInput-sc-r72q5y-5 hcGGwe"/><label id="tab-148295" class="tabs__StyledTabHeader-sc-r72q5y-3 fPGOqD focusable" for="tab-input-148295" tabindex="0" role="tab" aria-selected="false">JavaScript</label><div role="tabpanel" aria-labelledby="tab-148295" class="tabs__StyledTab-sc-r72q5y-4 gcZeIL"><pre class="grvsc-container one-dark-pro" data-language="js" data-index="1"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source"><span class="mtk9">class</span><span class="mtk1"> </span><span class="mtk11">User</span><span class="mtk1"> {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk4">firstName</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk6">&quot;(none)&quot;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk4">middleNames</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> []</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk4">lastName</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk6">&quot;(none)&quot;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk4">email</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk6">&quot;(none)&quot;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk4">birthDate</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk9">new</span><span class="mtk1"> </span><span class="mtk11">Date</span><span class="mtk1">()</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">}</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk5 mtki">// usage:</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk9">const</span><span class="mtk1"> </span><span class="mtk11">user</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk9">new</span><span class="mtk1"> </span><span class="mtk11">User</span><span class="mtk1">()</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk11">user</span><span class="mtk1">.</span><span class="mtk4">firstName</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk6">&quot;John&quot;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk11">user</span><span class="mtk1">.</span><span class="mtk4">middleNames</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> [</span><span class="mtk6">&quot;Larry&quot;</span><span class="mtk1">]</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk11">user</span><span class="mtk1">.</span><span class="mtk4">lastName</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk6">&quot;Doe&quot;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk11">user</span><span class="mtk1">.</span><span class="mtk4">email</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk6">&quot;john@doe.com&quot;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk11">user</span><span class="mtk1">.</span><span class="mtk4">birthDate</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk9">new</span><span class="mtk1"> </span><span class="mtk11">Date</span><span class="mtk1">(</span><span class="mtk6">&quot;1990-01-01&quot;</span><span class="mtk1">)</span></span></span></code></pre></div></section><p>In its current state, this class is missing a few features:</p><ul><li><strong>Immutability:</strong> instances of the <code>User</code> class can be updated by foreign code, which brings <em>uncertainty</em> about the integrity of the data.</li><li><strong>Convenience:</strong> the API doesn&#x27;t help much to build a <code>User</code> instance, everything has to be done by hand.</li><li><strong>Coherence:</strong> invalid data can be defined in the fields—e.g. a blank string in the <code>lastName</code> field.</li></ul><p>The Builder design pattern can help us bring those features easily.</p><aside id="note-about-sql-query-builders" class="aside__Aside-sc-21wzby-0 aside__StyledNote-sc-21wzby-3 zFedH kqmYcF"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="info-circle" class="svg-inline--fa fa-info-circle aside__AsideIcon-sc-21wzby-1 etythn" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"></path></svg><div class="aside__AsideContent-sc-21wzby-2 laIcTq"><span class="sr-only">Note:</span><p>Instead of a <em>user builder</em>, we could have work on a <em>SQL query builder</em>, which would have been more useful—especially for the <strong>Convenience</strong> part—but also more complex.</p><p>The <em>user builder</em> is an example picked for its simplicity, but it might not be the best fit to show all the benefits of a builder.</p></div></aside><h2 id="bringing-immutability-to-our-data" class="post__Heading-sc-l8w1nw-7 iyjDKM"><a href="#bringing-immutability-to-our-data" class="button__IconButton-sc-ja09rx-0 post__HeadingLink-sc-l8w1nw-6 dnHkDR buhAuq link-no-color-when-inactive link-no-color-when-inactive" title="Link to &quot;Bringing immutability to our data&quot; heading" aria-hidden="true"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="link" class="svg-inline--fa fa-link " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"></path></svg></a>Bringing immutability to our data</h2><p>The first step is to bring immutability, there are multiple ways to do that and they all come with pros and cons.</p><h3 id="freezing-the-object" class="post__Heading-sc-l8w1nw-7 iyjDKM"><a href="#freezing-the-object" class="button__IconButton-sc-ja09rx-0 post__HeadingLink-sc-l8w1nw-6 dnHkDR buhAuq link-no-color-when-inactive link-no-color-when-inactive" title="Link to &quot;Freezing the object&quot; heading" aria-hidden="true"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="link" class="svg-inline--fa fa-link " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"></path></svg></a>Freezing the object</h3><p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/freeze">The <code>Object</code> class has a static method named <code>freeze()</code></a> which forbids any further modifications on the provided object once it&#x27;s called. According to the MDN, it has the following behavior:</p><blockquote><p>A frozen object can no longer be changed; freezing an object prevents new properties from being added to it, existing properties from being removed, prevents changing the enumerability, configurability, or writability of existing properties, and prevents the values of existing properties from being changed.</p></blockquote><p>With this method, the builder could froze the <code>User</code> instance before returning it:</p><div class="code-fold__StyledCodeFold-sc-1srb7sn-2 eLYoyQ"><input type="checkbox" id="code-fold-233379" class="code-fold__Input-sc-1srb7sn-1 eGXXRT"/><label title="Toggle expanded code" tabindex="0" class="code-fold__Label-sc-1srb7sn-0 djFbkI focusable" for="code-fold-233379" role="checkbox" aria-label="Check to expand the code" aria-checked="false"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="plus" class="svg-inline--fa fa-plus " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"></path></svg></label><pre class="grvsc-container grvsc-has-line-highlighting one-dark-pro" data-language="js" data-index="2"><code class="grvsc-code"><span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk9">class</span><span class="mtk1"> </span><span class="mtk11">User</span><span class="mtk1"> {</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk4">firstName</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk6">&quot;(none)&quot;</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">}</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk9">function</span><span class="mtk1"> </span><span class="mtk3">buildUser</span><span class="mtk1">() {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk9">const</span><span class="mtk1"> </span><span class="mtk11">user</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk9">new</span><span class="mtk1"> </span><span class="mtk11">User</span><span class="mtk1">()</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk11">user</span><span class="mtk1">.</span><span class="mtk4">firstName</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk6">&quot;John&quot;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk9">return</span><span class="mtk1"> </span><span class="mtk11">Object</span><span class="mtk1">.</span><span class="mtk3">freeze</span><span class="mtk1">(</span><span class="mtk4">user</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">}</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk9">const</span><span class="mtk1"> </span><span class="mtk11">user</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk3">buildUser</span><span class="mtk1">()</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk11">user</span><span class="mtk1">.</span><span class="mtk4">firstName</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk6">&quot;Jane&quot;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk5 mtki">// ❌ fails: no exception thrown, but the property is not updated</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk11">console</span><span class="mtk1">.</span><span class="mtk3">log</span><span class="mtk1">(</span><span class="mtk11">user</span><span class="mtk1">.</span><span class="mtk4">firstName</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk5 mtki">// ✅ prints: John</span></span></span></code></pre></div><p>However, a major drawback is that anyone can instanciate the <code>User</code> class and fill it with arbitrary values, <strong>only the instances returned by the builder are frozen.</strong></p><h3 id="typescript-s-member-visibility" class="post__Heading-sc-l8w1nw-7 iyjDKM"><a href="#typescript-s-member-visibility" class="button__IconButton-sc-ja09rx-0 post__HeadingLink-sc-l8w1nw-6 dnHkDR buhAuq link-no-color-when-inactive link-no-color-when-inactive" title="Link to &quot;TypeScript&#x27;s member visibility&quot; heading" aria-hidden="true"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="link" class="svg-inline--fa fa-link " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"></path></svg></a>TypeScript&#x27;s member visibility</h3><p>TypeScript provides keywords to specify the visibility of class members, <a href="https://www.typescriptlang.org/docs/handbook/2/classes.html#private"><code>private</code> is one them</a>. This allows us to restrict the access to our class fields and constructors.</p><p>But we also want our class fields to be readable by anyone, to solve that we can add a <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/get">getter</a> for each private field.</p><div class="code-fold__StyledCodeFold-sc-1srb7sn-2 eLYoyQ"><input type="checkbox" id="code-fold-767544" class="code-fold__Input-sc-1srb7sn-1 eGXXRT"/><label title="Toggle expanded code" tabindex="0" class="code-fold__Label-sc-1srb7sn-0 djFbkI focusable" for="code-fold-767544" role="checkbox" aria-label="Check to expand the code" aria-checked="false"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="plus" class="svg-inline--fa fa-plus " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"></path></svg></label><pre class="grvsc-container grvsc-has-line-highlighting one-dark-pro" data-language="ts" data-index="3"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source"><span class="mtk9">class</span><span class="mtk1"> </span><span class="mtk11">User</span><span class="mtk1"> {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk9">private</span><span class="mtk1"> </span><span class="mtk4">_firstName</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk6">&quot;(none)&quot;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk9">get</span><span class="mtk1"> </span><span class="mtk3">firstName</span><span class="mtk1">() {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk9">return</span><span class="mtk1"> </span><span class="mtk11">this</span><span class="mtk1">.</span><span class="mtk4">_firstName</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  }</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk9">private</span><span class="mtk1"> </span><span class="mtk9">constructor</span><span class="mtk1">() {}</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">}</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk9">const</span><span class="mtk1"> </span><span class="mtk11">user</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk9">new</span><span class="mtk1"> </span><span class="mtk11">User</span><span class="mtk1">()</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk5 mtki">// ❌ TS error: Constructor of class &#x27;User&#x27; is private and only accessible</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk5 mtki">//              within the class declaration. ts(2673)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk9">declare</span><span class="mtk1"> </span><span class="mtk9">const</span><span class="mtk1"> </span><span class="mtk11">user</span><span class="mtk1">: </span><span class="mtk11">User</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk11">console</span><span class="mtk1">.</span><span class="mtk3">log</span><span class="mtk1">(</span><span class="mtk11">user</span><span class="mtk1">.</span><span class="mtk4">firstName</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk5 mtki">// ✅ prints: (none)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk11">user</span><span class="mtk1">.</span><span class="mtk4">firstName</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk6">&quot;John&quot;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk5 mtki">// ❌ TS error: Cannot assign to &#x27;firstName&#x27; because it is a read-only property. ts(2540)</span></span></span></code></pre></div><p>The class can&#x27;t be instanciated, the fields can be read but not written, everything works as expected.</p><p>However, there are two drawbacks:</p><ul><li>You need to write your code in TypeScript, or provide <a href="https://www.typescriptlang.org/docs/handbook/2/type-declarations.html">type declarations</a>.</li><li>Once the code is transpiled to JavaScript, nothing forbids the usage of the private members. This is something you can totally choose to ignore—in a private codebase for example—but it&#x27;s good to know.</li></ul><h3 id="private-fields" class="post__Heading-sc-l8w1nw-7 iyjDKM"><a href="#private-fields" class="button__IconButton-sc-ja09rx-0 post__HeadingLink-sc-l8w1nw-6 dnHkDR buhAuq link-no-color-when-inactive link-no-color-when-inactive" title="Link to &quot;Private fields&quot; heading" aria-hidden="true"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="link" class="svg-inline--fa fa-link " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"></path></svg></a>Private fields</h3><p>You can exploit an equivalence of TypeScript&#x27;s member visibility in pure JavaScript by using <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Classes/Private_class_fields#private_fields">private fields</a>, also in conjunction with getters:</p><pre class="grvsc-container one-dark-pro" data-language="js" data-index="4"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source"><span class="mtk9">class</span><span class="mtk1"> </span><span class="mtk11">User</span><span class="mtk1"> {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  #</span><span class="mtk4">firstName</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk6">&quot;(none)&quot;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk9">get</span><span class="mtk1"> </span><span class="mtk3">firstName</span><span class="mtk1">() {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk9">return</span><span class="mtk1"> </span><span class="mtk11">this</span><span class="mtk1">.#</span><span class="mtk4">firstName</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  }</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">}</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk9">const</span><span class="mtk1"> </span><span class="mtk11">user</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk9">new</span><span class="mtk1"> </span><span class="mtk11">User</span><span class="mtk1">()</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk11">console</span><span class="mtk1">.</span><span class="mtk3">log</span><span class="mtk1">(</span><span class="mtk11">user</span><span class="mtk1">.</span><span class="mtk4">firstName</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk5 mtki">// ✅ prints: (none)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk11">user</span><span class="mtk1">.</span><span class="mtk4">firstName</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk6">&quot;John&quot;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk5 mtki">// ❌ fails: no exception thrown, but the property is not updated</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk4">user</span><span class="mtk1">.#</span><span class="mtk4">firstName</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk6">&quot;John&quot;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk5 mtki">// ❌ throws: Uncaught SyntaxError: reference to undeclared</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk5 mtki">//            private field or method #firstName</span></span></span></code></pre><p>The class can be instanciated but the fields cannot be written, whether you are writing your code in TypeScript or JavaScript.</p><aside class="aside__Aside-sc-21wzby-0 aside__StyledNote-sc-21wzby-3 zFedH kqmYcF"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="info-circle" class="svg-inline--fa fa-info-circle aside__AsideIcon-sc-21wzby-1 etythn" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"></path></svg><div class="aside__AsideContent-sc-21wzby-2 laIcTq"><span class="sr-only">Note:</span><p>You might ask yourself if you can bypass field restrictions by overridding the instance prototype. I&#x27;ve already tried for you, <a href="https://twitter.com/johannpardanaud/status/1504443328368193544">it&#x27;s not possible!</a> 🎉</p></div></aside><h3 id="what-to-choose" class="post__Heading-sc-l8w1nw-7 iyjDKM"><a href="#what-to-choose" class="button__IconButton-sc-ja09rx-0 post__HeadingLink-sc-l8w1nw-6 dnHkDR buhAuq link-no-color-when-inactive link-no-color-when-inactive" title="Link to &quot;What to choose?&quot; heading" aria-hidden="true"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="link" class="svg-inline--fa fa-link " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"></path></svg></a>What to choose?</h3><p>So, what&#x27;s the best option among the ones above? My personal choice is a combination of:</p><ul><li><a href="#private-fields">private fields and getters</a> to ensure no instances can be updated by foreign code;</li><li>and, if you are using TypeScript, <a href="#typescript-s-member-visibility">set the visibility of the constructor to <code>private</code></a> to prevent instanciations of the class outside of the builder.</li></ul><p>That way you have the best of both worlds.</p><h2 id="grant-the-builder-access-to-the-private-fields" class="post__Heading-sc-l8w1nw-7 iyjDKM"><a href="#grant-the-builder-access-to-the-private-fields" class="button__IconButton-sc-ja09rx-0 post__HeadingLink-sc-l8w1nw-6 dnHkDR buhAuq link-no-color-when-inactive link-no-color-when-inactive" title="Link to &quot;Grant the builder access to the private fields&quot; heading" aria-hidden="true"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="link" class="svg-inline--fa fa-link " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"></path></svg></a>Grant the builder access to the private fields</h2><p>Now that you have immutable instances, you need to be able to build them by updating their private fields.</p><p>The only way to update private fields is to trigger an update from a method inside the impacted class. However, we do not want our <code>User</code> class to provide methods used to update itself… So we need to create a <code>Builder</code> class which has access to the private fields of the <code>User</code> class.</p><p>In Java, this is done by using <a href="https://docs.oracle.com/javase/tutorial/java/javaOO/nested.html">nested classes</a>:</p><pre class="grvsc-container one-dark-pro" data-language="java" data-index="5"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source"><span class="mtk9">public</span><span class="mtk4"> </span><span class="mtk9">class</span><span class="mtk4"> </span><span class="mtk11">User</span><span class="mtk4"> </span><span class="mtk1">{</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk4">    </span><span class="mtk9">private</span><span class="mtk4"> </span><span class="mtk11">String</span><span class="mtk4"> firstName </span><span class="mtk8">=</span><span class="mtk4"> </span><span class="mtk6">&quot;(none)&quot;</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk4">    </span><span class="mtk9">public</span><span class="mtk3"> </span><span class="mtk11">String</span><span class="mtk3"> getFirstName</span><span class="mtk1">()</span><span class="mtk3"> </span><span class="mtk1">{</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk9">return</span><span class="mtk1"> firstName;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    }</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk4">    </span><span class="mtk9">private</span><span class="mtk3"> User</span><span class="mtk1">()</span><span class="mtk3"> </span><span class="mtk1">{}</span><span class="mtk4"> </span><span class="mtk5 mtki">// private constructor</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk4">    </span><span class="mtk5 mtki">// declare a nested class `Builder` as a child of the `User` class</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk4">    </span><span class="mtk9">public</span><span class="mtk4"> </span><span class="mtk9">static</span><span class="mtk4"> </span><span class="mtk9">class</span><span class="mtk4"> </span><span class="mtk11">Builder</span><span class="mtk4"> </span><span class="mtk1">{</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk4">        </span><span class="mtk9">public</span><span class="mtk3"> </span><span class="mtk11">User</span><span class="mtk3"> create</span><span class="mtk1">(</span><span class="mtk11">String</span><span class="mtk1"> </span><span class="mtk4 mtki">firstName</span><span class="mtk1">)</span><span class="mtk3"> </span><span class="mtk1">{</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">            </span><span class="mtk9">var</span><span class="mtk1"> </span><span class="mtk4">user</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk9">new</span><span class="mtk1"> </span><span class="mtk3">User</span><span class="mtk1">();</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">            </span><span class="mtk11">user</span><span class="mtk1">.</span><span class="mtk4">firstName</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> firstName; </span><span class="mtk5 mtki">// the nested class can update private fields</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">            </span><span class="mtk9">return</span><span class="mtk1"> user;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">        }</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk4">    </span><span class="mtk1">}</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">}</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk11">System</span><span class="mtk1">.</span><span class="mtk11">out</span><span class="mtk1">.</span><span class="mtk3">println</span><span class="mtk1">(</span><span class="mtk9">new</span><span class="mtk1"> User.</span><span class="mtk3">Builder</span><span class="mtk1">().</span><span class="mtk3">create</span><span class="mtk1">(</span><span class="mtk6">&quot;John&quot;</span><span class="mtk1">).</span><span class="mtk3">getFirstName</span><span class="mtk1">());</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk5 mtki">// ✅ prints: John</span></span></span></code></pre><p>The nested <code>Builder</code> class can create a <code>User</code> instance and update its private fields, this would not be possible without nesting.</p><p>JavaScript doesn&#x27;t provide such a feature out of the box, however <a href="https://stackoverflow.com/a/32494175/1513045">it is possible to <em>emulate</em> this behavior with anonymous classes</a>:</p><section role="tablist" class="tabs__StyledTabs-sc-r72q5y-0 bQTAzX"><div class="tabs__Separator-sc-r72q5y-2 eLxdTR"></div><input type="radio" id="tab-input-756543" name="tabs-736039" checked="" class="tabs__StyledInput-sc-r72q5y-5 hcGGwe"/><label id="tab-756543" class="tabs__StyledTabHeader-sc-r72q5y-3 fPGOqD focusable" for="tab-input-756543" tabindex="0" role="tab" aria-selected="false">TypeScript</label><div role="tabpanel" aria-labelledby="tab-756543" class="tabs__StyledTab-sc-r72q5y-4 gcZeIL"><pre class="grvsc-container one-dark-pro" data-language="ts" data-index="6"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source"><span class="mtk9">class</span><span class="mtk1"> </span><span class="mtk11">User</span><span class="mtk1"> {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  #</span><span class="mtk4">firstName</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk6">&quot;(none)&quot;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk9">get</span><span class="mtk1"> </span><span class="mtk3">firstName</span><span class="mtk1">() {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk9">return</span><span class="mtk1"> </span><span class="mtk11">this</span><span class="mtk1">.#</span><span class="mtk4">firstName</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  }</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk9">private</span><span class="mtk1"> </span><span class="mtk9">constructor</span><span class="mtk1">() {}</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk9">static</span><span class="mtk1"> </span><span class="mtk4">Builder</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk9">class</span><span class="mtk1"> {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk3">create</span><span class="mtk1">(</span><span class="mtk4 mtki">firstName</span><span class="mtk1">: </span><span class="mtk11">string</span><span class="mtk1">) {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk9">const</span><span class="mtk1"> </span><span class="mtk11">user</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk9">new</span><span class="mtk1"> </span><span class="mtk11">User</span><span class="mtk1">()</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk4">user</span><span class="mtk1">.#</span><span class="mtk4">firstName</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk4">firstName</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk9">return</span><span class="mtk1"> </span><span class="mtk4">user</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    }</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  }</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">}</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk11">console</span><span class="mtk1">.</span><span class="mtk3">log</span><span class="mtk1">(</span><span class="mtk9">new</span><span class="mtk1"> </span><span class="mtk11">User</span><span class="mtk1">().</span><span class="mtk4">firstName</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk5 mtki">// ✅ prints: (none)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk11">console</span><span class="mtk1">.</span><span class="mtk3">log</span><span class="mtk1">(</span><span class="mtk9">new</span><span class="mtk1"> </span><span class="mtk11">User</span><span class="mtk1">.</span><span class="mtk11">Builder</span><span class="mtk1">().</span><span class="mtk3">create</span><span class="mtk1">(</span><span class="mtk6">&quot;John&quot;</span><span class="mtk1">).</span><span class="mtk4">firstName</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk5 mtki">// ✅ prints: John</span></span></span></code></pre></div><input type="radio" id="tab-input-71830" name="tabs-736039" class="tabs__StyledInput-sc-r72q5y-5 hcGGwe"/><label id="tab-71830" class="tabs__StyledTabHeader-sc-r72q5y-3 fPGOqD focusable" for="tab-input-71830" tabindex="0" role="tab" aria-selected="false">JavaScript</label><div role="tabpanel" aria-labelledby="tab-71830" class="tabs__StyledTab-sc-r72q5y-4 gcZeIL"><pre class="grvsc-container one-dark-pro" data-language="js" data-index="7"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source"><span class="mtk9">class</span><span class="mtk1"> </span><span class="mtk11">User</span><span class="mtk1"> {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  #</span><span class="mtk4">firstName</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk6">&quot;(none)&quot;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk9">get</span><span class="mtk1"> </span><span class="mtk3">firstName</span><span class="mtk1">() {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk9">return</span><span class="mtk1"> </span><span class="mtk11">this</span><span class="mtk1">.#</span><span class="mtk4">firstName</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  }</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk9">static</span><span class="mtk1"> </span><span class="mtk4">Builder</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk9">class</span><span class="mtk1"> {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk3">create</span><span class="mtk1">(</span><span class="mtk4 mtki">firstName</span><span class="mtk1">) {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk9">const</span><span class="mtk1"> </span><span class="mtk11">user</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk9">new</span><span class="mtk1"> </span><span class="mtk11">User</span><span class="mtk1">()</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk4">user</span><span class="mtk1">.#</span><span class="mtk4">firstName</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk4">firstName</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk9">return</span><span class="mtk1"> </span><span class="mtk4">user</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    }</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  }</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">}</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk11">console</span><span class="mtk1">.</span><span class="mtk3">log</span><span class="mtk1">(</span><span class="mtk9">new</span><span class="mtk1"> </span><span class="mtk11">User</span><span class="mtk1">().</span><span class="mtk4">firstName</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk5 mtki">// ✅ prints: (none)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk11">console</span><span class="mtk1">.</span><span class="mtk3">log</span><span class="mtk1">(</span><span class="mtk9">new</span><span class="mtk1"> </span><span class="mtk11">User</span><span class="mtk1">.</span><span class="mtk11">Builder</span><span class="mtk1">().</span><span class="mtk3">create</span><span class="mtk1">(</span><span class="mtk6">&quot;John&quot;</span><span class="mtk1">).</span><span class="mtk4">firstName</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk5 mtki">// ✅ prints: John</span></span></span></code></pre></div></section><p>Here, instead of creating the <code>Builder</code> class outside of the <code>User</code> class, we create <strong>an anonymous class</strong> and assign it <strong>to the <code>Builder</code> field</strong> (not to be confused with the class name).</p><aside class="aside__Aside-sc-21wzby-0 aside__StyledNote-sc-21wzby-3 zFedH kqmYcF"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="info-circle" class="svg-inline--fa fa-info-circle aside__AsideIcon-sc-21wzby-1 etythn" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"></path></svg><div class="aside__AsideContent-sc-21wzby-2 laIcTq"><span class="sr-only">Note:</span><p>In a stack trace you might see the class being referenced as an <em>&quot;anonymous class&quot;</em> or something similar. If you want to improve your debugging experience, you can name the class and still assign it to the private field anyway.</p><div class="code-fold__StyledCodeFold-sc-1srb7sn-2 eLYoyQ"><input type="checkbox" id="code-fold-622120" class="code-fold__Input-sc-1srb7sn-1 eGXXRT"/><label title="Toggle expanded code" tabindex="0" class="code-fold__Label-sc-1srb7sn-0 djFbkI focusable" for="code-fold-622120" role="checkbox" aria-label="Check to expand the code" aria-checked="false"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="plus" class="svg-inline--fa fa-plus " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"></path></svg></label><pre class="grvsc-container grvsc-has-line-highlighting one-dark-pro" data-language="js" data-index="8"><code class="grvsc-code"><span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk9">class</span><span class="mtk1"> </span><span class="mtk11">User</span><span class="mtk1"> { </span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk9">static</span><span class="mtk1"> </span><span class="mtk4">Builder</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk9">class</span><span class="mtk1"> </span><span class="mtk11">Builder</span><span class="mtk1"> { </span><span class="mtk5 mtki">/* ... */</span><span class="mtk1"> }</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">} </span></span></span></code></pre></div></div></aside><h2 id="writing-the-actual-builder" class="post__Heading-sc-l8w1nw-7 iyjDKM"><a href="#writing-the-actual-builder" class="button__IconButton-sc-ja09rx-0 post__HeadingLink-sc-l8w1nw-6 dnHkDR buhAuq link-no-color-when-inactive link-no-color-when-inactive" title="Link to &quot;Writing the actual builder&quot; heading" aria-hidden="true"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="link" class="svg-inline--fa fa-link " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"></path></svg></a>Writing the actual builder</h2><p>The builder has three jobs:</p><ul><li>validating the values;</li><li>storing them;</li><li>use them to build an object.</li></ul><p>For each field of the object, we will create a method to validate and store the value. To build the actual object, we will create a <code>build()</code> method.</p><p>Let&#x27;s start with the <code>firstName</code> field:</p><section role="tablist" class="tabs__StyledTabs-sc-r72q5y-0 bQTAzX"><div class="tabs__Separator-sc-r72q5y-2 eLxdTR"></div><input type="radio" id="tab-input-259981" name="tabs-861456" checked="" class="tabs__StyledInput-sc-r72q5y-5 hcGGwe"/><label id="tab-259981" class="tabs__StyledTabHeader-sc-r72q5y-3 fPGOqD focusable" for="tab-input-259981" tabindex="0" role="tab" aria-selected="false">TypeScript</label><div role="tabpanel" aria-labelledby="tab-259981" class="tabs__StyledTab-sc-r72q5y-4 gcZeIL"><div class="code-fold__StyledCodeFold-sc-1srb7sn-2 eLYoyQ"><input type="checkbox" id="code-fold-928013" class="code-fold__Input-sc-1srb7sn-1 eGXXRT"/><label title="Toggle expanded code" tabindex="0" class="code-fold__Label-sc-1srb7sn-0 djFbkI focusable" for="code-fold-928013" role="checkbox" aria-label="Check to expand the code" aria-checked="false"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="plus" class="svg-inline--fa fa-plus " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"></path></svg></label><pre class="grvsc-container grvsc-has-line-highlighting one-dark-pro" data-language="ts" data-index="9"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source"><span class="mtk9">type</span><span class="mtk1"> </span><span class="mtk11">BuilderOperation</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> (</span><span class="mtk4 mtki">user</span><span class="mtk1">: </span><span class="mtk11">User</span><span class="mtk1">) </span><span class="mtk9">=&gt;</span><span class="mtk1"> </span><span class="mtk11">void</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk9">function</span><span class="mtk1"> </span><span class="mtk3">assert</span><span class="mtk1">(</span><span class="mtk4 mtki">value</span><span class="mtk1">: </span><span class="mtk11">boolean</span><span class="mtk1">, </span><span class="mtk4 mtki">message</span><span class="mtk1">: </span><span class="mtk11">string</span><span class="mtk1">) {</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk9">if</span><span class="mtk1"> (</span><span class="mtk4">value</span><span class="mtk1"> </span><span class="mtk8">===</span><span class="mtk1"> </span><span class="mtk7">false</span><span class="mtk1">) {</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk9">throw</span><span class="mtk1"> </span><span class="mtk9">new</span><span class="mtk1"> </span><span class="mtk11">Error</span><span class="mtk1">(</span><span class="mtk4">message</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">  }</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">}</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk9">class</span><span class="mtk1"> </span><span class="mtk11">User</span><span class="mtk1"> {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  #</span><span class="mtk4">firstName</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk6">&quot;(none)&quot;</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk9">get</span><span class="mtk1"> </span><span class="mtk3">firstName</span><span class="mtk1">() {</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk9">return</span><span class="mtk1"> </span><span class="mtk11">this</span><span class="mtk1">.#</span><span class="mtk4">firstName</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">  }</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk9">private</span><span class="mtk1"> </span><span class="mtk9">constructor</span><span class="mtk1">() {}</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk9">static</span><span class="mtk1"> </span><span class="mtk4">Builder</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk9">class</span><span class="mtk1"> {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    #</span><span class="mtk4">operations</span><span class="mtk1">: </span><span class="mtk11">BuilderOperation</span><span class="mtk1">[] </span><span class="mtk8">=</span><span class="mtk1"> []</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk3">setFirstName</span><span class="mtk1">(</span><span class="mtk4 mtki">firstName</span><span class="mtk1">: </span><span class="mtk11">string</span><span class="mtk1">) {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk3">assert</span><span class="mtk1">(</span><span class="mtk11">firstName</span><span class="mtk1">.</span><span class="mtk4">length</span><span class="mtk1"> </span><span class="mtk8">&gt;</span><span class="mtk1"> </span><span class="mtk7">0</span><span class="mtk1">, </span><span class="mtk6">&quot;must not be empty&quot;</span><span class="mtk1">) </span><span class="mtk5 mtki">// validate the value</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk11">this</span><span class="mtk1">.#</span><span class="mtk11">operations</span><span class="mtk1">.</span><span class="mtk3">push</span><span class="mtk1">(</span><span class="mtk4 mtki">user</span><span class="mtk1"> </span><span class="mtk9">=&gt;</span><span class="mtk1"> (</span><span class="mtk4">user</span><span class="mtk1">.#</span><span class="mtk4">firstName</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk4">firstName</span><span class="mtk1">)) </span><span class="mtk5 mtki">// store the value</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk9">return</span><span class="mtk1"> </span><span class="mtk11">this</span><span class="mtk1"> </span><span class="mtk5 mtki">// return the builder instance to provide method chaining</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    }</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  }</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">}</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk11">console</span><span class="mtk1">.</span><span class="mtk3">log</span><span class="mtk1">(</span><span class="mtk9">new</span><span class="mtk1"> </span><span class="mtk11">User</span><span class="mtk1">.</span><span class="mtk11">Builder</span><span class="mtk1">().</span><span class="mtk3">setFirstName</span><span class="mtk1">(</span><span class="mtk6">&quot;&quot;</span><span class="mtk1">))</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk5 mtki">// ❌ throws: Uncaught Error: must not be empty</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk11">console</span><span class="mtk1">.</span><span class="mtk3">log</span><span class="mtk1">(</span><span class="mtk9">new</span><span class="mtk1"> </span><span class="mtk11">User</span><span class="mtk1">.</span><span class="mtk11">Builder</span><span class="mtk1">().</span><span class="mtk3">setFirstName</span><span class="mtk1">(</span><span class="mtk6">&quot;John&quot;</span><span class="mtk1">))</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk5 mtki">// ✅ validation passed</span></span></span></code></pre></div></div><input type="radio" id="tab-input-81865" name="tabs-861456" class="tabs__StyledInput-sc-r72q5y-5 hcGGwe"/><label id="tab-81865" class="tabs__StyledTabHeader-sc-r72q5y-3 fPGOqD focusable" for="tab-input-81865" tabindex="0" role="tab" aria-selected="false">JavaScript</label><div role="tabpanel" aria-labelledby="tab-81865" class="tabs__StyledTab-sc-r72q5y-4 gcZeIL"><div class="code-fold__StyledCodeFold-sc-1srb7sn-2 eLYoyQ"><input type="checkbox" id="code-fold-734861" class="code-fold__Input-sc-1srb7sn-1 eGXXRT"/><label title="Toggle expanded code" tabindex="0" class="code-fold__Label-sc-1srb7sn-0 djFbkI focusable" for="code-fold-734861" role="checkbox" aria-label="Check to expand the code" aria-checked="false"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="plus" class="svg-inline--fa fa-plus " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"></path></svg></label><pre class="grvsc-container grvsc-has-line-highlighting one-dark-pro" data-language="js" data-index="10"><code class="grvsc-code"><span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk9">function</span><span class="mtk1"> </span><span class="mtk3">assert</span><span class="mtk1">(</span><span class="mtk4 mtki">value</span><span class="mtk1">, </span><span class="mtk4 mtki">message</span><span class="mtk1">) {</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk9">if</span><span class="mtk1"> (</span><span class="mtk4">value</span><span class="mtk1"> </span><span class="mtk8">===</span><span class="mtk1"> </span><span class="mtk7">false</span><span class="mtk1">) {</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk9">throw</span><span class="mtk1"> </span><span class="mtk9">new</span><span class="mtk1"> </span><span class="mtk11">Error</span><span class="mtk1">(</span><span class="mtk4">message</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">  }</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">}</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk9">class</span><span class="mtk1"> </span><span class="mtk11">User</span><span class="mtk1"> {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  #</span><span class="mtk4">firstName</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk6">&quot;(none)&quot;</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk9">get</span><span class="mtk1"> </span><span class="mtk3">firstName</span><span class="mtk1">() {</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk9">return</span><span class="mtk1"> </span><span class="mtk11">this</span><span class="mtk1">.#</span><span class="mtk4">firstName</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">  }</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk9">static</span><span class="mtk1"> </span><span class="mtk4">Builder</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk9">class</span><span class="mtk1"> {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    #</span><span class="mtk4">operations</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> []</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk3">setFirstName</span><span class="mtk1">(</span><span class="mtk4 mtki">firstName</span><span class="mtk1">) {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk3">assert</span><span class="mtk1">(</span><span class="mtk11">firstName</span><span class="mtk1">.</span><span class="mtk4">length</span><span class="mtk1"> </span><span class="mtk8">&gt;</span><span class="mtk1"> </span><span class="mtk7">0</span><span class="mtk1">, </span><span class="mtk6">&quot;must not be empty&quot;</span><span class="mtk1">) </span><span class="mtk5 mtki">// validate the value</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk11">this</span><span class="mtk1">.#</span><span class="mtk11">operations</span><span class="mtk1">.</span><span class="mtk3">push</span><span class="mtk1">(</span><span class="mtk4 mtki">user</span><span class="mtk1"> </span><span class="mtk9">=&gt;</span><span class="mtk1"> (</span><span class="mtk4">user</span><span class="mtk1">.#</span><span class="mtk4">firstName</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk4">firstName</span><span class="mtk1">)) </span><span class="mtk5 mtki">// store the value</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk9">return</span><span class="mtk1"> </span><span class="mtk11">this</span><span class="mtk1"> </span><span class="mtk5 mtki">// return the builder instance to provide method chaining</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    }</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  }</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">}</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk11">console</span><span class="mtk1">.</span><span class="mtk3">log</span><span class="mtk1">(</span><span class="mtk9">new</span><span class="mtk1"> </span><span class="mtk11">User</span><span class="mtk1">.</span><span class="mtk11">Builder</span><span class="mtk1">().</span><span class="mtk3">setFirstName</span><span class="mtk1">(</span><span class="mtk6">&quot;&quot;</span><span class="mtk1">))</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk5 mtki">// ❌ throws: Uncaught Error: must not be empty</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk11">console</span><span class="mtk1">.</span><span class="mtk3">log</span><span class="mtk1">(</span><span class="mtk9">new</span><span class="mtk1"> </span><span class="mtk11">User</span><span class="mtk1">.</span><span class="mtk11">Builder</span><span class="mtk1">().</span><span class="mtk3">setFirstName</span><span class="mtk1">(</span><span class="mtk6">&quot;John&quot;</span><span class="mtk1">))</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk5 mtki">// ✅ validation passed</span></span></span></code></pre></div></div></section><aside class="aside__Aside-sc-21wzby-0 aside__StyledNote-sc-21wzby-3 zFedH kqmYcF"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="info-circle" class="svg-inline--fa fa-info-circle aside__AsideIcon-sc-21wzby-1 etythn" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"></path></svg><div class="aside__AsideContent-sc-21wzby-2 laIcTq"><span class="sr-only">Note:</span><p>You might ask yourself: <em>what is this <code>#operations</code> field?</em></p><p>Its role is to contain a list of anonymous functions that will receive the new <code>User</code> instance and apply updates on it. It avoids field duplication in the builder and allows to build multiple instances of the final class with the same builder.</p></div></aside><p>We can already see how our builder can help to create valid objects without bloating them with methods. But let&#x27;s move to another field example where the builder really shines: complex types.</p><p>Let&#x27;s create some methods for the <code>middleNames</code> field:</p><section role="tablist" class="tabs__StyledTabs-sc-r72q5y-0 bQTAzX"><div class="tabs__Separator-sc-r72q5y-2 eLxdTR"></div><input type="radio" id="tab-input-239365" name="tabs-188055" checked="" class="tabs__StyledInput-sc-r72q5y-5 hcGGwe"/><label id="tab-239365" class="tabs__StyledTabHeader-sc-r72q5y-3 fPGOqD focusable" for="tab-input-239365" tabindex="0" role="tab" aria-selected="false">TypeScript</label><div role="tabpanel" aria-labelledby="tab-239365" class="tabs__StyledTab-sc-r72q5y-4 gcZeIL"><div class="code-fold__StyledCodeFold-sc-1srb7sn-2 eLYoyQ"><input type="checkbox" id="code-fold-955856" class="code-fold__Input-sc-1srb7sn-1 eGXXRT"/><label title="Toggle expanded code" tabindex="0" class="code-fold__Label-sc-1srb7sn-0 djFbkI focusable" for="code-fold-955856" role="checkbox" aria-label="Check to expand the code" aria-checked="false"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="plus" class="svg-inline--fa fa-plus " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"></path></svg></label><pre class="grvsc-container grvsc-has-line-highlighting one-dark-pro" data-language="ts" data-index="11"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source"><span class="mtk9">type</span><span class="mtk1"> </span><span class="mtk11">BuilderOperation</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> (</span><span class="mtk4 mtki">user</span><span class="mtk1">: </span><span class="mtk11">User</span><span class="mtk1">) </span><span class="mtk9">=&gt;</span><span class="mtk1"> </span><span class="mtk11">void</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk9">function</span><span class="mtk1"> </span><span class="mtk3">assert</span><span class="mtk1">(</span><span class="mtk4 mtki">value</span><span class="mtk1">: </span><span class="mtk11">boolean</span><span class="mtk1">, </span><span class="mtk4 mtki">message</span><span class="mtk1">: </span><span class="mtk11">string</span><span class="mtk1">) {</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk9">if</span><span class="mtk1"> (</span><span class="mtk4">value</span><span class="mtk1"> </span><span class="mtk8">===</span><span class="mtk1"> </span><span class="mtk7">false</span><span class="mtk1">) {</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk9">throw</span><span class="mtk1"> </span><span class="mtk9">new</span><span class="mtk1"> </span><span class="mtk11">Error</span><span class="mtk1">(</span><span class="mtk4">message</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">  }</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">}</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk9">class</span><span class="mtk1"> </span><span class="mtk11">User</span><span class="mtk1"> {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  #</span><span class="mtk4">middleNames</span><span class="mtk1">: </span><span class="mtk11">string</span><span class="mtk1">[] </span><span class="mtk8">=</span><span class="mtk1"> []</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk9">get</span><span class="mtk1"> </span><span class="mtk3">middleNames</span><span class="mtk1">() {</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk9">return</span><span class="mtk1"> </span><span class="mtk11">this</span><span class="mtk1">.#</span><span class="mtk4">middleNames</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">  }</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk9">private</span><span class="mtk1"> </span><span class="mtk9">constructor</span><span class="mtk1">() {}</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk9">static</span><span class="mtk1"> </span><span class="mtk4">Builder</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk9">class</span><span class="mtk1"> {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    #</span><span class="mtk4">operations</span><span class="mtk1">: </span><span class="mtk11">BuilderOperation</span><span class="mtk1">[] </span><span class="mtk8">=</span><span class="mtk1"> []</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk3">addMiddleNames</span><span class="mtk1">(...</span><span class="mtk4 mtki">middleNames</span><span class="mtk1">: </span><span class="mtk11">string</span><span class="mtk1">[]) {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk5 mtki">// validate the values</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk11">middleNames</span><span class="mtk1">.</span><span class="mtk3">forEach</span><span class="mtk1">(</span><span class="mtk4 mtki">val</span><span class="mtk1"> </span><span class="mtk9">=&gt;</span><span class="mtk1"> </span><span class="mtk3">assert</span><span class="mtk1">(</span><span class="mtk11">val</span><span class="mtk1">.</span><span class="mtk4">length</span><span class="mtk1"> </span><span class="mtk8">&gt;</span><span class="mtk1"> </span><span class="mtk7">0</span><span class="mtk1">, </span><span class="mtk6">&quot;must not be empty&quot;</span><span class="mtk1">))</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk5 mtki">// store the values</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk11">this</span><span class="mtk1">.#</span><span class="mtk11">operations</span><span class="mtk1">.</span><span class="mtk3">push</span><span class="mtk1">(</span><span class="mtk4 mtki">user</span><span class="mtk1"> </span><span class="mtk9">=&gt;</span><span class="mtk1"> {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk4">user</span><span class="mtk1">.#</span><span class="mtk4">middleNames</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk4">user</span><span class="mtk1">.#</span><span class="mtk11">middleNames</span><span class="mtk1">.</span><span class="mtk3">concat</span><span class="mtk1">(</span><span class="mtk4">middleNames</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">      })</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk5 mtki">// return the builder instance to provide method chaining</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk9">return</span><span class="mtk1"> </span><span class="mtk11">this</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    }</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk3">removeMiddleNames</span><span class="mtk1">(...</span><span class="mtk4 mtki">middleNames</span><span class="mtk1">: </span><span class="mtk11">string</span><span class="mtk1">[]) {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk5 mtki">// remove the values</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk11">this</span><span class="mtk1">.#</span><span class="mtk11">operations</span><span class="mtk1">.</span><span class="mtk3">push</span><span class="mtk1">(</span><span class="mtk4 mtki">user</span><span class="mtk1"> </span><span class="mtk9">=&gt;</span><span class="mtk1"> {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk4">user</span><span class="mtk1">.#</span><span class="mtk4">middleNames</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk4">user</span><span class="mtk1">.#</span><span class="mtk11">middleNames</span><span class="mtk1">.</span><span class="mtk3">filter</span><span class="mtk1">(</span><span class="mtk4 mtki">val</span><span class="mtk1"> </span><span class="mtk9">=&gt;</span><span class="mtk1"> {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">          </span><span class="mtk5 mtki">// filter out the middle name if it&#x27;s contained in the provided ones</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">          </span><span class="mtk9">return</span><span class="mtk1"> </span><span class="mtk8">!</span><span class="mtk11">middleNames</span><span class="mtk1">.</span><span class="mtk3">includes</span><span class="mtk1">(</span><span class="mtk4">val</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">        })</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">      })</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk5 mtki">// return the builder instance to provide method chaining</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk9">return</span><span class="mtk1"> </span><span class="mtk11">this</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    }</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  }</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">}</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk9">new</span><span class="mtk1"> </span><span class="mtk11">User</span><span class="mtk1">.</span><span class="mtk11">Builder</span><span class="mtk1">()</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  .</span><span class="mtk3">addMiddleNames</span><span class="mtk1">(</span><span class="mtk6">&quot;Jack&quot;</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  .</span><span class="mtk3">addMiddleNames</span><span class="mtk1">(</span><span class="mtk6">&quot;Larry&quot;</span><span class="mtk1">, </span><span class="mtk6">&quot;Bruce&quot;</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  .</span><span class="mtk3">removeMiddleNames</span><span class="mtk1">(</span><span class="mtk6">&quot;Bruce&quot;</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk5 mtki">// ✅ middle names: [&quot;Jack&quot;, &quot;Larry&quot;]</span></span></span></code></pre></div></div><input type="radio" id="tab-input-545591" name="tabs-188055" class="tabs__StyledInput-sc-r72q5y-5 hcGGwe"/><label id="tab-545591" class="tabs__StyledTabHeader-sc-r72q5y-3 fPGOqD focusable" for="tab-input-545591" tabindex="0" role="tab" aria-selected="false">JavaScript</label><div role="tabpanel" aria-labelledby="tab-545591" class="tabs__StyledTab-sc-r72q5y-4 gcZeIL"><div class="code-fold__StyledCodeFold-sc-1srb7sn-2 eLYoyQ"><input type="checkbox" id="code-fold-311583" class="code-fold__Input-sc-1srb7sn-1 eGXXRT"/><label title="Toggle expanded code" tabindex="0" class="code-fold__Label-sc-1srb7sn-0 djFbkI focusable" for="code-fold-311583" role="checkbox" aria-label="Check to expand the code" aria-checked="false"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="plus" class="svg-inline--fa fa-plus " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"></path></svg></label><pre class="grvsc-container grvsc-has-line-highlighting one-dark-pro" data-language="js" data-index="12"><code class="grvsc-code"><span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk9">function</span><span class="mtk1"> </span><span class="mtk3">assert</span><span class="mtk1">(</span><span class="mtk4 mtki">value</span><span class="mtk1">, </span><span class="mtk4 mtki">message</span><span class="mtk1">) {</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk9">if</span><span class="mtk1"> (</span><span class="mtk4">value</span><span class="mtk1"> </span><span class="mtk8">===</span><span class="mtk1"> </span><span class="mtk7">false</span><span class="mtk1">) {</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk9">throw</span><span class="mtk1"> </span><span class="mtk9">new</span><span class="mtk1"> </span><span class="mtk11">Error</span><span class="mtk1">(</span><span class="mtk4">message</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">  }</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">}</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk9">class</span><span class="mtk1"> </span><span class="mtk11">User</span><span class="mtk1"> {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  #</span><span class="mtk4">middleNames</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> []</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk9">get</span><span class="mtk1"> </span><span class="mtk3">middleNames</span><span class="mtk1">() {</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk9">return</span><span class="mtk1"> </span><span class="mtk11">this</span><span class="mtk1">.#</span><span class="mtk4">middleNames</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">  }</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk9">static</span><span class="mtk1"> </span><span class="mtk4">Builder</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk9">class</span><span class="mtk1"> {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    #</span><span class="mtk4">operations</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> []</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk3">addMiddleNames</span><span class="mtk1">(...</span><span class="mtk4 mtki">middleNames</span><span class="mtk1">) {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk5 mtki">// validate the values</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk11">middleNames</span><span class="mtk1">.</span><span class="mtk3">forEach</span><span class="mtk1">(</span><span class="mtk4 mtki">val</span><span class="mtk1"> </span><span class="mtk9">=&gt;</span><span class="mtk1"> </span><span class="mtk3">assert</span><span class="mtk1">(</span><span class="mtk11">val</span><span class="mtk1">.</span><span class="mtk4">length</span><span class="mtk1"> </span><span class="mtk8">&gt;</span><span class="mtk1"> </span><span class="mtk7">0</span><span class="mtk1">, </span><span class="mtk6">&quot;must not be empty&quot;</span><span class="mtk1">))</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk5 mtki">// store the values</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk11">this</span><span class="mtk1">.#</span><span class="mtk11">operations</span><span class="mtk1">.</span><span class="mtk3">push</span><span class="mtk1">(</span><span class="mtk4 mtki">user</span><span class="mtk1"> </span><span class="mtk9">=&gt;</span><span class="mtk1"> {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk4">user</span><span class="mtk1">.#</span><span class="mtk4">middleNames</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk4">user</span><span class="mtk1">.#</span><span class="mtk11">middleNames</span><span class="mtk1">.</span><span class="mtk3">concat</span><span class="mtk1">(</span><span class="mtk4">middleNames</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">      })</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk5 mtki">// return the builder instance to provide method chaining</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk9">return</span><span class="mtk1"> </span><span class="mtk11">this</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    }</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk3">removeMiddleNames</span><span class="mtk1">(...</span><span class="mtk4 mtki">middleNames</span><span class="mtk1">) {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk5 mtki">// remove the values</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk11">this</span><span class="mtk1">.#</span><span class="mtk11">operations</span><span class="mtk1">.</span><span class="mtk3">push</span><span class="mtk1">(</span><span class="mtk4 mtki">user</span><span class="mtk1"> </span><span class="mtk9">=&gt;</span><span class="mtk1"> {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk4">user</span><span class="mtk1">.#</span><span class="mtk4">middleNames</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk4">user</span><span class="mtk1">.#</span><span class="mtk11">middleNames</span><span class="mtk1">.</span><span class="mtk3">filter</span><span class="mtk1">(</span><span class="mtk4 mtki">val</span><span class="mtk1"> </span><span class="mtk9">=&gt;</span><span class="mtk1"> {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">          </span><span class="mtk5 mtki">// filter out the middle name if it&#x27;s contained in the provided ones</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">          </span><span class="mtk9">return</span><span class="mtk1"> </span><span class="mtk8">!</span><span class="mtk11">middleNames</span><span class="mtk1">.</span><span class="mtk3">includes</span><span class="mtk1">(</span><span class="mtk4">val</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">        })</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">      })</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk5 mtki">// return the builder instance to provide method chaining</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk9">return</span><span class="mtk1"> </span><span class="mtk11">this</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    }</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  }</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">}</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk9">new</span><span class="mtk1"> </span><span class="mtk11">User</span><span class="mtk1">.</span><span class="mtk11">Builder</span><span class="mtk1">()</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  .</span><span class="mtk3">addMiddleNames</span><span class="mtk1">(</span><span class="mtk6">&quot;Jack&quot;</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  .</span><span class="mtk3">addMiddleNames</span><span class="mtk1">(</span><span class="mtk6">&quot;Larry&quot;</span><span class="mtk1">, </span><span class="mtk6">&quot;Bruce&quot;</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  .</span><span class="mtk3">removeMiddleNames</span><span class="mtk1">(</span><span class="mtk6">&quot;Bruce&quot;</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk5 mtki">// ✅ middle names: [&quot;Jack&quot;, &quot;Larry&quot;]</span></span></span></code></pre></div></div></section><p>As you can see, since we have a complex value, our builder can provide more methods to help the developer manipulate it.</p><p>Now let&#x27;s finish our builder by adding the <code>build()</code> method, all the other fields are also provided for the sake of completeness (only in the expanded code):</p><section role="tablist" class="tabs__StyledTabs-sc-r72q5y-0 bQTAzX"><div class="tabs__Separator-sc-r72q5y-2 eLxdTR"></div><input type="radio" id="tab-input-838841" name="tabs-387449" checked="" class="tabs__StyledInput-sc-r72q5y-5 hcGGwe"/><label id="tab-838841" class="tabs__StyledTabHeader-sc-r72q5y-3 fPGOqD focusable" for="tab-input-838841" tabindex="0" role="tab" aria-selected="false">TypeScript</label><div role="tabpanel" aria-labelledby="tab-838841" class="tabs__StyledTab-sc-r72q5y-4 gcZeIL"><div class="code-fold__StyledCodeFold-sc-1srb7sn-2 eLYoyQ"><input type="checkbox" id="code-fold-235882" class="code-fold__Input-sc-1srb7sn-1 eGXXRT"/><label title="Toggle expanded code" tabindex="0" class="code-fold__Label-sc-1srb7sn-0 djFbkI focusable" for="code-fold-235882" role="checkbox" aria-label="Check to expand the code" aria-checked="false"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="plus" class="svg-inline--fa fa-plus " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"></path></svg></label><pre class="grvsc-container grvsc-has-line-highlighting one-dark-pro" data-language="ts" data-index="13"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source"><span class="mtk9">type</span><span class="mtk1"> </span><span class="mtk11">BuilderOperation</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> (</span><span class="mtk4 mtki">user</span><span class="mtk1">: </span><span class="mtk11">User</span><span class="mtk1">) </span><span class="mtk9">=&gt;</span><span class="mtk1"> </span><span class="mtk11">void</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk9">function</span><span class="mtk1"> </span><span class="mtk3">assert</span><span class="mtk1">(</span><span class="mtk4 mtki">value</span><span class="mtk1">: </span><span class="mtk11">boolean</span><span class="mtk1">, </span><span class="mtk4 mtki">message</span><span class="mtk1">: </span><span class="mtk11">string</span><span class="mtk1">) {</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk9">if</span><span class="mtk1"> (</span><span class="mtk4">value</span><span class="mtk1"> </span><span class="mtk8">===</span><span class="mtk1"> </span><span class="mtk7">false</span><span class="mtk1">) {</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk9">throw</span><span class="mtk1"> </span><span class="mtk9">new</span><span class="mtk1"> </span><span class="mtk11">Error</span><span class="mtk1">(</span><span class="mtk4">message</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">  }</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">}</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk9">class</span><span class="mtk1"> </span><span class="mtk11">User</span><span class="mtk1"> {</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">  #</span><span class="mtk4">firstName</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk6">&quot;(none)&quot;</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk9">get</span><span class="mtk1"> </span><span class="mtk3">firstName</span><span class="mtk1">() {</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk9">return</span><span class="mtk1"> </span><span class="mtk11">this</span><span class="mtk1">.#</span><span class="mtk4">firstName</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">  }</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">  #</span><span class="mtk4">middleNames</span><span class="mtk1">: </span><span class="mtk11">string</span><span class="mtk1">[] </span><span class="mtk8">=</span><span class="mtk1"> []</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk9">get</span><span class="mtk1"> </span><span class="mtk3">middleNames</span><span class="mtk1">() {</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk9">return</span><span class="mtk1"> </span><span class="mtk11">this</span><span class="mtk1">.#</span><span class="mtk4">middleNames</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">  }</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">  #</span><span class="mtk4">lastName</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk6">&quot;(none)&quot;</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk9">get</span><span class="mtk1"> </span><span class="mtk3">lastName</span><span class="mtk1">() {</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk9">return</span><span class="mtk1"> </span><span class="mtk11">this</span><span class="mtk1">.#</span><span class="mtk4">lastName</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">  }</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">  #</span><span class="mtk4">email</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk6">&quot;(none)&quot;</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk9">get</span><span class="mtk1"> </span><span class="mtk3">email</span><span class="mtk1">() {</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk9">return</span><span class="mtk1"> </span><span class="mtk11">this</span><span class="mtk1">.#</span><span class="mtk4">email</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">  }</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">  #</span><span class="mtk4">birthDate</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk9">new</span><span class="mtk1"> </span><span class="mtk11">Date</span><span class="mtk1">()</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk9">get</span><span class="mtk1"> </span><span class="mtk3">birthDate</span><span class="mtk1">() {</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk9">return</span><span class="mtk1"> </span><span class="mtk11">this</span><span class="mtk1">.#</span><span class="mtk4">birthDate</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">  }</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk9">private</span><span class="mtk1"> </span><span class="mtk9">constructor</span><span class="mtk1">() {}</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk9">static</span><span class="mtk1"> </span><span class="mtk4">Builder</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk9">class</span><span class="mtk1"> {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    #</span><span class="mtk4">operations</span><span class="mtk1">: </span><span class="mtk11">BuilderOperation</span><span class="mtk1">[] </span><span class="mtk8">=</span><span class="mtk1"> []</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk3">setFirstName</span><span class="mtk1">(</span><span class="mtk4 mtki">firstName</span><span class="mtk1">: </span><span class="mtk11">string</span><span class="mtk1">) {</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk3">assert</span><span class="mtk1">(</span><span class="mtk11">firstName</span><span class="mtk1">.</span><span class="mtk4">length</span><span class="mtk1"> </span><span class="mtk8">&gt;</span><span class="mtk1"> </span><span class="mtk7">0</span><span class="mtk1">, </span><span class="mtk6">&quot;must not be empty&quot;</span><span class="mtk1">) </span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk11">this</span><span class="mtk1">.#</span><span class="mtk11">operations</span><span class="mtk1">.</span><span class="mtk3">push</span><span class="mtk1">(</span><span class="mtk4 mtki">user</span><span class="mtk1"> </span><span class="mtk9">=&gt;</span><span class="mtk1"> (</span><span class="mtk4">user</span><span class="mtk1">.#</span><span class="mtk4">firstName</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk4">firstName</span><span class="mtk1">)) </span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk9">return</span><span class="mtk1"> </span><span class="mtk11">this</span><span class="mtk1"> </span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">    }</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk3">addMiddleNames</span><span class="mtk1">(...</span><span class="mtk4 mtki">middleNames</span><span class="mtk1">: </span><span class="mtk11">string</span><span class="mtk1">[]) {</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk11">middleNames</span><span class="mtk1">.</span><span class="mtk3">forEach</span><span class="mtk1">(</span><span class="mtk4 mtki">val</span><span class="mtk1"> </span><span class="mtk9">=&gt;</span><span class="mtk1"> </span><span class="mtk3">assert</span><span class="mtk1">(</span><span class="mtk11">val</span><span class="mtk1">.</span><span class="mtk4">length</span><span class="mtk1"> </span><span class="mtk8">&gt;</span><span class="mtk1"> </span><span class="mtk7">0</span><span class="mtk1">, </span><span class="mtk6">&quot;must not be empty&quot;</span><span class="mtk1">))</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk11">this</span><span class="mtk1">.#</span><span class="mtk11">operations</span><span class="mtk1">.</span><span class="mtk3">push</span><span class="mtk1">(</span><span class="mtk4 mtki">user</span><span class="mtk1"> </span><span class="mtk9">=&gt;</span><span class="mtk1"> {</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk4">user</span><span class="mtk1">.#</span><span class="mtk4">middleNames</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk4">user</span><span class="mtk1">.#</span><span class="mtk11">middleNames</span><span class="mtk1">.</span><span class="mtk3">concat</span><span class="mtk1">(</span><span class="mtk4">middleNames</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      })</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk9">return</span><span class="mtk1"> </span><span class="mtk11">this</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">    }</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk3">removeMiddleNames</span><span class="mtk1">(...</span><span class="mtk4 mtki">middleNames</span><span class="mtk1">: </span><span class="mtk11">string</span><span class="mtk1">[]) {</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk11">this</span><span class="mtk1">.#</span><span class="mtk11">operations</span><span class="mtk1">.</span><span class="mtk3">push</span><span class="mtk1">(</span><span class="mtk4 mtki">user</span><span class="mtk1"> </span><span class="mtk9">=&gt;</span><span class="mtk1"> {</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk4">user</span><span class="mtk1">.#</span><span class="mtk4">middleNames</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk4">user</span><span class="mtk1">.#</span><span class="mtk11">middleNames</span><span class="mtk1">.</span><span class="mtk3">filter</span><span class="mtk1">(</span><span class="mtk4 mtki">val</span><span class="mtk1"> </span><span class="mtk9">=&gt;</span><span class="mtk1"> {</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">          </span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">          </span><span class="mtk9">return</span><span class="mtk1"> </span><span class="mtk8">!</span><span class="mtk11">middleNames</span><span class="mtk1">.</span><span class="mtk3">includes</span><span class="mtk1">(</span><span class="mtk4">val</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">        })</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      })</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk9">return</span><span class="mtk1"> </span><span class="mtk11">this</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">    }</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk3">setLastName</span><span class="mtk1">(</span><span class="mtk4 mtki">lastName</span><span class="mtk1">: </span><span class="mtk11">string</span><span class="mtk1">) {</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk3">assert</span><span class="mtk1">(</span><span class="mtk11">lastName</span><span class="mtk1">.</span><span class="mtk4">length</span><span class="mtk1"> </span><span class="mtk8">&gt;</span><span class="mtk1"> </span><span class="mtk7">0</span><span class="mtk1">, </span><span class="mtk6">&quot;must not be empty&quot;</span><span class="mtk1">) </span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk11">this</span><span class="mtk1">.#</span><span class="mtk11">operations</span><span class="mtk1">.</span><span class="mtk3">push</span><span class="mtk1">(</span><span class="mtk4 mtki">user</span><span class="mtk1"> </span><span class="mtk9">=&gt;</span><span class="mtk1"> (</span><span class="mtk4">user</span><span class="mtk1">.#</span><span class="mtk4">lastName</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk4">lastName</span><span class="mtk1">)) </span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk9">return</span><span class="mtk1"> </span><span class="mtk11">this</span><span class="mtk1"> </span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">    }</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk3">setEmail</span><span class="mtk1">(</span><span class="mtk4 mtki">email</span><span class="mtk1">: </span><span class="mtk11">string</span><span class="mtk1">) {</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk3">assert</span><span class="mtk1">(</span><span class="mtk11">email</span><span class="mtk1">.</span><span class="mtk4">length</span><span class="mtk1"> </span><span class="mtk8">&gt;</span><span class="mtk1"> </span><span class="mtk7">0</span><span class="mtk1">, </span><span class="mtk6">&quot;must not be empty&quot;</span><span class="mtk1">) </span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk11">this</span><span class="mtk1">.#</span><span class="mtk11">operations</span><span class="mtk1">.</span><span class="mtk3">push</span><span class="mtk1">(</span><span class="mtk4 mtki">user</span><span class="mtk1"> </span><span class="mtk9">=&gt;</span><span class="mtk1"> (</span><span class="mtk4">user</span><span class="mtk1">.#</span><span class="mtk4">email</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk4">email</span><span class="mtk1">)) </span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk9">return</span><span class="mtk1"> </span><span class="mtk11">this</span><span class="mtk1"> </span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">    }</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk3">setBirthDate</span><span class="mtk1">(</span><span class="mtk4 mtki">birthDate</span><span class="mtk1">: </span><span class="mtk11">Date</span><span class="mtk1">) {</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk3">assert</span><span class="mtk1">(</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk11">birthDate</span><span class="mtk1">.</span><span class="mtk3">getTime</span><span class="mtk1">() </span><span class="mtk8">&lt;=</span><span class="mtk1"> </span><span class="mtk11">Date</span><span class="mtk1">.</span><span class="mtk3">now</span><span class="mtk1">(),</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk6">&quot;must be lower or equal to the current date&quot;</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      )</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk11">this</span><span class="mtk1">.#</span><span class="mtk11">operations</span><span class="mtk1">.</span><span class="mtk3">push</span><span class="mtk1">(</span><span class="mtk4 mtki">user</span><span class="mtk1"> </span><span class="mtk9">=&gt;</span><span class="mtk1"> {</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk9">const</span><span class="mtk1"> </span><span class="mtk11">b</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk4">birthDate</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk4">user</span><span class="mtk1">.#</span><span class="mtk4">birthDate</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk9">new</span><span class="mtk1"> </span><span class="mtk11">Date</span><span class="mtk1">(</span><span class="mtk11">b</span><span class="mtk1">.</span><span class="mtk3">getFullYear</span><span class="mtk1">(), </span><span class="mtk11">b</span><span class="mtk1">.</span><span class="mtk3">getMonth</span><span class="mtk1">(), </span><span class="mtk11">b</span><span class="mtk1">.</span><span class="mtk3">getDate</span><span class="mtk1">())</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      })</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk9">return</span><span class="mtk1"> </span><span class="mtk11">this</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">    }</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk3">build</span><span class="mtk1">(): </span><span class="mtk11">User</span><span class="mtk1"> {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk5 mtki">// create a new user</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk9">const</span><span class="mtk1"> </span><span class="mtk11">user</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk9">new</span><span class="mtk1"> </span><span class="mtk11">User</span><span class="mtk1">()</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk5 mtki">// apply each operation to the new user</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk9">for</span><span class="mtk1"> (</span><span class="mtk9">const</span><span class="mtk1"> </span><span class="mtk11">applyOperation</span><span class="mtk1"> </span><span class="mtk9">of</span><span class="mtk1"> </span><span class="mtk11">this</span><span class="mtk1">.#</span><span class="mtk4">operations</span><span class="mtk1">) {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk3">applyOperation</span><span class="mtk1">(</span><span class="mtk4">user</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">      }</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk5 mtki">// return the user, altered by all the operations</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk9">return</span><span class="mtk1"> </span><span class="mtk4">user</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    }</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  }</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">}</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk5 mtki">// usage:</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk9">const</span><span class="mtk1"> </span><span class="mtk11">user</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk9">new</span><span class="mtk1"> </span><span class="mtk11">User</span><span class="mtk1">.</span><span class="mtk11">Builder</span><span class="mtk1">()</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  .</span><span class="mtk3">setFirstName</span><span class="mtk1">(</span><span class="mtk6">&quot;John&quot;</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  .</span><span class="mtk3">addMiddleNames</span><span class="mtk1">(</span><span class="mtk6">&quot;Larry&quot;</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  .</span><span class="mtk3">setLastName</span><span class="mtk1">(</span><span class="mtk6">&quot;Doe&quot;</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  .</span><span class="mtk3">setEmail</span><span class="mtk1">(</span><span class="mtk6">&quot;john@doe.com&quot;</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  .</span><span class="mtk3">setBirthDate</span><span class="mtk1">(</span><span class="mtk9">new</span><span class="mtk1"> </span><span class="mtk11">Date</span><span class="mtk1">(</span><span class="mtk6">&quot;1990-01-01&quot;</span><span class="mtk1">))</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  .</span><span class="mtk3">build</span><span class="mtk1">()</span></span></span></code></pre></div></div><input type="radio" id="tab-input-239329" name="tabs-387449" class="tabs__StyledInput-sc-r72q5y-5 hcGGwe"/><label id="tab-239329" class="tabs__StyledTabHeader-sc-r72q5y-3 fPGOqD focusable" for="tab-input-239329" tabindex="0" role="tab" aria-selected="false">JavaScript</label><div role="tabpanel" aria-labelledby="tab-239329" class="tabs__StyledTab-sc-r72q5y-4 gcZeIL"><div class="code-fold__StyledCodeFold-sc-1srb7sn-2 eLYoyQ"><input type="checkbox" id="code-fold-748818" class="code-fold__Input-sc-1srb7sn-1 eGXXRT"/><label title="Toggle expanded code" tabindex="0" class="code-fold__Label-sc-1srb7sn-0 djFbkI focusable" for="code-fold-748818" role="checkbox" aria-label="Check to expand the code" aria-checked="false"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="plus" class="svg-inline--fa fa-plus " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"></path></svg></label><pre class="grvsc-container grvsc-has-line-highlighting one-dark-pro" data-language="js" data-index="14"><code class="grvsc-code"><span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk9">function</span><span class="mtk1"> </span><span class="mtk3">assert</span><span class="mtk1">(</span><span class="mtk4 mtki">value</span><span class="mtk1">, </span><span class="mtk4 mtki">message</span><span class="mtk1">) {</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk9">if</span><span class="mtk1"> (</span><span class="mtk4">value</span><span class="mtk1"> </span><span class="mtk8">===</span><span class="mtk1"> </span><span class="mtk7">false</span><span class="mtk1">) {</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk9">throw</span><span class="mtk1"> </span><span class="mtk9">new</span><span class="mtk1"> </span><span class="mtk11">Error</span><span class="mtk1">(</span><span class="mtk4">message</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">  }</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">}</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk9">class</span><span class="mtk1"> </span><span class="mtk11">User</span><span class="mtk1"> {</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">  #</span><span class="mtk4">firstName</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk6">&quot;(none)&quot;</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk9">get</span><span class="mtk1"> </span><span class="mtk3">firstName</span><span class="mtk1">() {</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk9">return</span><span class="mtk1"> </span><span class="mtk11">this</span><span class="mtk1">.#</span><span class="mtk4">firstName</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">  }</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">  #</span><span class="mtk4">middleNames</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> []</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk9">get</span><span class="mtk1"> </span><span class="mtk3">middleNames</span><span class="mtk1">() {</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk9">return</span><span class="mtk1"> </span><span class="mtk11">this</span><span class="mtk1">.#</span><span class="mtk4">middleNames</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">  }</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">  #</span><span class="mtk4">lastName</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk6">&quot;(none)&quot;</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk9">get</span><span class="mtk1"> </span><span class="mtk3">lastName</span><span class="mtk1">() {</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk9">return</span><span class="mtk1"> </span><span class="mtk11">this</span><span class="mtk1">.#</span><span class="mtk4">lastName</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">  }</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">  #</span><span class="mtk4">email</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk6">&quot;(none)&quot;</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk9">get</span><span class="mtk1"> </span><span class="mtk3">email</span><span class="mtk1">() {</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk9">return</span><span class="mtk1"> </span><span class="mtk11">this</span><span class="mtk1">.#</span><span class="mtk4">email</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">  }</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">  #</span><span class="mtk4">birthDate</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk9">new</span><span class="mtk1"> </span><span class="mtk11">Date</span><span class="mtk1">()</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk9">get</span><span class="mtk1"> </span><span class="mtk3">birthDate</span><span class="mtk1">() {</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk9">return</span><span class="mtk1"> </span><span class="mtk11">this</span><span class="mtk1">.#</span><span class="mtk4">birthDate</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">  }</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk9">static</span><span class="mtk1"> </span><span class="mtk4">Builder</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk9">class</span><span class="mtk1"> {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    #</span><span class="mtk4">operations</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> []</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk3">setFirstName</span><span class="mtk1">(</span><span class="mtk4 mtki">firstName</span><span class="mtk1">) {</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk3">assert</span><span class="mtk1">(</span><span class="mtk11">firstName</span><span class="mtk1">.</span><span class="mtk4">length</span><span class="mtk1"> </span><span class="mtk8">&gt;</span><span class="mtk1"> </span><span class="mtk7">0</span><span class="mtk1">, </span><span class="mtk6">&quot;must not be empty&quot;</span><span class="mtk1">) </span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk11">this</span><span class="mtk1">.#</span><span class="mtk11">operations</span><span class="mtk1">.</span><span class="mtk3">push</span><span class="mtk1">(</span><span class="mtk4 mtki">user</span><span class="mtk1"> </span><span class="mtk9">=&gt;</span><span class="mtk1"> (</span><span class="mtk4">user</span><span class="mtk1">.#</span><span class="mtk4">firstName</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk4">firstName</span><span class="mtk1">)) </span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk9">return</span><span class="mtk1"> </span><span class="mtk11">this</span><span class="mtk1"> </span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">    }</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk3">addMiddleNames</span><span class="mtk1">(...</span><span class="mtk4 mtki">middleNames</span><span class="mtk1">) {</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk11">middleNames</span><span class="mtk1">.</span><span class="mtk3">forEach</span><span class="mtk1">(</span><span class="mtk4 mtki">val</span><span class="mtk1"> </span><span class="mtk9">=&gt;</span><span class="mtk1"> </span><span class="mtk3">assert</span><span class="mtk1">(</span><span class="mtk11">val</span><span class="mtk1">.</span><span class="mtk4">length</span><span class="mtk1"> </span><span class="mtk8">&gt;</span><span class="mtk1"> </span><span class="mtk7">0</span><span class="mtk1">, </span><span class="mtk6">&quot;must not be empty&quot;</span><span class="mtk1">))</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk11">this</span><span class="mtk1">.#</span><span class="mtk11">operations</span><span class="mtk1">.</span><span class="mtk3">push</span><span class="mtk1">(</span><span class="mtk4 mtki">user</span><span class="mtk1"> </span><span class="mtk9">=&gt;</span><span class="mtk1"> {</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk4">user</span><span class="mtk1">.#</span><span class="mtk4">middleNames</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk4">user</span><span class="mtk1">.#</span><span class="mtk11">middleNames</span><span class="mtk1">.</span><span class="mtk3">concat</span><span class="mtk1">(</span><span class="mtk4">middleNames</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      })</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk9">return</span><span class="mtk1"> </span><span class="mtk11">this</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">    }</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk3">removeMiddleNames</span><span class="mtk1">(...</span><span class="mtk4 mtki">middleNames</span><span class="mtk1">) {</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk11">this</span><span class="mtk1">.#</span><span class="mtk11">operations</span><span class="mtk1">.</span><span class="mtk3">push</span><span class="mtk1">(</span><span class="mtk4 mtki">user</span><span class="mtk1"> </span><span class="mtk9">=&gt;</span><span class="mtk1"> {</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk4">user</span><span class="mtk1">.#</span><span class="mtk4">middleNames</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk4">user</span><span class="mtk1">.#</span><span class="mtk11">middleNames</span><span class="mtk1">.</span><span class="mtk3">filter</span><span class="mtk1">(</span><span class="mtk4 mtki">val</span><span class="mtk1"> </span><span class="mtk9">=&gt;</span><span class="mtk1"> {</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">          </span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">          </span><span class="mtk9">return</span><span class="mtk1"> </span><span class="mtk8">!</span><span class="mtk11">middleNames</span><span class="mtk1">.</span><span class="mtk3">includes</span><span class="mtk1">(</span><span class="mtk4">val</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">        })</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      })</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk9">return</span><span class="mtk1"> </span><span class="mtk11">this</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">    }</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk3">setLastName</span><span class="mtk1">(</span><span class="mtk4 mtki">lastName</span><span class="mtk1">) {</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk3">assert</span><span class="mtk1">(</span><span class="mtk11">lastName</span><span class="mtk1">.</span><span class="mtk4">length</span><span class="mtk1"> </span><span class="mtk8">&gt;</span><span class="mtk1"> </span><span class="mtk7">0</span><span class="mtk1">, </span><span class="mtk6">&quot;must not be empty&quot;</span><span class="mtk1">) </span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk11">this</span><span class="mtk1">.#</span><span class="mtk11">operations</span><span class="mtk1">.</span><span class="mtk3">push</span><span class="mtk1">(</span><span class="mtk4 mtki">user</span><span class="mtk1"> </span><span class="mtk9">=&gt;</span><span class="mtk1"> (</span><span class="mtk4">user</span><span class="mtk1">.#</span><span class="mtk4">lastName</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk4">lastName</span><span class="mtk1">)) </span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk9">return</span><span class="mtk1"> </span><span class="mtk11">this</span><span class="mtk1"> </span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">    }</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk3">setEmail</span><span class="mtk1">(</span><span class="mtk4 mtki">email</span><span class="mtk1">) {</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk3">assert</span><span class="mtk1">(</span><span class="mtk11">email</span><span class="mtk1">.</span><span class="mtk4">length</span><span class="mtk1"> </span><span class="mtk8">&gt;</span><span class="mtk1"> </span><span class="mtk7">0</span><span class="mtk1">, </span><span class="mtk6">&quot;must not be empty&quot;</span><span class="mtk1">) </span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk11">this</span><span class="mtk1">.#</span><span class="mtk11">operations</span><span class="mtk1">.</span><span class="mtk3">push</span><span class="mtk1">(</span><span class="mtk4 mtki">user</span><span class="mtk1"> </span><span class="mtk9">=&gt;</span><span class="mtk1"> (</span><span class="mtk4">user</span><span class="mtk1">.#</span><span class="mtk4">email</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk4">email</span><span class="mtk1">)) </span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk9">return</span><span class="mtk1"> </span><span class="mtk11">this</span><span class="mtk1"> </span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">    }</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk3">setBirthDate</span><span class="mtk1">(</span><span class="mtk4 mtki">birthDate</span><span class="mtk1">) {</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk3">assert</span><span class="mtk1">(</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk11">birthDate</span><span class="mtk1">.</span><span class="mtk3">getTime</span><span class="mtk1">() </span><span class="mtk8">&lt;=</span><span class="mtk1"> </span><span class="mtk11">Date</span><span class="mtk1">.</span><span class="mtk3">now</span><span class="mtk1">(),</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk6">&quot;must be lower or equal to the current date&quot;</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      )</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk11">this</span><span class="mtk1">.#</span><span class="mtk11">operations</span><span class="mtk1">.</span><span class="mtk3">push</span><span class="mtk1">(</span><span class="mtk4 mtki">user</span><span class="mtk1"> </span><span class="mtk9">=&gt;</span><span class="mtk1"> {</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk9">const</span><span class="mtk1"> </span><span class="mtk11">b</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk4">birthDate</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk4">user</span><span class="mtk1">.#</span><span class="mtk4">birthDate</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk9">new</span><span class="mtk1"> </span><span class="mtk11">Date</span><span class="mtk1">(</span><span class="mtk11">b</span><span class="mtk1">.</span><span class="mtk3">getFullYear</span><span class="mtk1">(), </span><span class="mtk11">b</span><span class="mtk1">.</span><span class="mtk3">getMonth</span><span class="mtk1">(), </span><span class="mtk11">b</span><span class="mtk1">.</span><span class="mtk3">getDate</span><span class="mtk1">())</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      })</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk9">return</span><span class="mtk1"> </span><span class="mtk11">this</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">    }</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk3">build</span><span class="mtk1">() {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk5 mtki">// create a new user</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk9">const</span><span class="mtk1"> </span><span class="mtk11">user</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk9">new</span><span class="mtk1"> </span><span class="mtk11">User</span><span class="mtk1">()</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk5 mtki">// apply each operation to the new user</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk9">for</span><span class="mtk1"> (</span><span class="mtk9">const</span><span class="mtk1"> </span><span class="mtk11">applyOperation</span><span class="mtk1"> </span><span class="mtk9">of</span><span class="mtk1"> </span><span class="mtk11">this</span><span class="mtk1">.#</span><span class="mtk4">operations</span><span class="mtk1">) {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk3">applyOperation</span><span class="mtk1">(</span><span class="mtk4">user</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">      }</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk5 mtki">// return the user, altered by all the operations</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk9">return</span><span class="mtk1"> </span><span class="mtk4">user</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    }</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  }</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">}</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk5 mtki">// usage:</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk9">const</span><span class="mtk1"> </span><span class="mtk11">user</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk9">new</span><span class="mtk1"> </span><span class="mtk11">User</span><span class="mtk1">.</span><span class="mtk11">Builder</span><span class="mtk1">()</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  .</span><span class="mtk3">setFirstName</span><span class="mtk1">(</span><span class="mtk6">&quot;John&quot;</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  .</span><span class="mtk3">addMiddleNames</span><span class="mtk1">(</span><span class="mtk6">&quot;Larry&quot;</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  .</span><span class="mtk3">setLastName</span><span class="mtk1">(</span><span class="mtk6">&quot;Doe&quot;</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  .</span><span class="mtk3">setEmail</span><span class="mtk1">(</span><span class="mtk6">&quot;john@doe.com&quot;</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  .</span><span class="mtk3">setBirthDate</span><span class="mtk1">(</span><span class="mtk9">new</span><span class="mtk1"> </span><span class="mtk11">Date</span><span class="mtk1">(</span><span class="mtk6">&quot;1990-01-01&quot;</span><span class="mtk1">))</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  .</span><span class="mtk3">build</span><span class="mtk1">()</span></span></span></code></pre></div></div></section><h2 id="polish-the-api" class="post__Heading-sc-l8w1nw-7 iyjDKM"><a href="#polish-the-api" class="button__IconButton-sc-ja09rx-0 post__HeadingLink-sc-l8w1nw-6 dnHkDR buhAuq link-no-color-when-inactive link-no-color-when-inactive" title="Link to &quot;Polish the API&quot; heading" aria-hidden="true"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="link" class="svg-inline--fa fa-link " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"></path></svg></a>Polish the API</h2><p>You might find this API a bit verbose an not very <em>JavaScript-like</em>. To improve this you can hide the builder instanciation and the call to the <code>build()</code> method in a function like this one:</p><section role="tablist" class="tabs__StyledTabs-sc-r72q5y-0 bQTAzX"><div class="tabs__Separator-sc-r72q5y-2 eLxdTR"></div><input type="radio" id="tab-input-216462" name="tabs-214204" checked="" class="tabs__StyledInput-sc-r72q5y-5 hcGGwe"/><label id="tab-216462" class="tabs__StyledTabHeader-sc-r72q5y-3 fPGOqD focusable" for="tab-input-216462" tabindex="0" role="tab" aria-selected="false">TypeScript</label><div role="tabpanel" aria-labelledby="tab-216462" class="tabs__StyledTab-sc-r72q5y-4 gcZeIL"><div class="code-fold__StyledCodeFold-sc-1srb7sn-2 eLYoyQ"><input type="checkbox" id="code-fold-120254" class="code-fold__Input-sc-1srb7sn-1 eGXXRT"/><label title="Toggle expanded code" tabindex="0" class="code-fold__Label-sc-1srb7sn-0 djFbkI focusable" for="code-fold-120254" role="checkbox" aria-label="Check to expand the code" aria-checked="false"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="plus" class="svg-inline--fa fa-plus " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"></path></svg></label><pre class="grvsc-container grvsc-has-line-highlighting one-dark-pro" data-language="ts" data-index="15"><code class="grvsc-code"><span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk9">type</span><span class="mtk1"> </span><span class="mtk11">BuilderOperation</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> (</span><span class="mtk4 mtki">user</span><span class="mtk1">: </span><span class="mtk11">User</span><span class="mtk1">) </span><span class="mtk9">=&gt;</span><span class="mtk1"> </span><span class="mtk11">void</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk9">function</span><span class="mtk1"> </span><span class="mtk3">assert</span><span class="mtk1">(</span><span class="mtk4 mtki">value</span><span class="mtk1">: </span><span class="mtk11">boolean</span><span class="mtk1">, </span><span class="mtk4 mtki">message</span><span class="mtk1">: </span><span class="mtk11">string</span><span class="mtk1">) {</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk9">if</span><span class="mtk1"> (</span><span class="mtk4">value</span><span class="mtk1"> </span><span class="mtk8">===</span><span class="mtk1"> </span><span class="mtk7">false</span><span class="mtk1">) {</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk9">throw</span><span class="mtk1"> </span><span class="mtk9">new</span><span class="mtk1"> </span><span class="mtk11">Error</span><span class="mtk1">(</span><span class="mtk4">message</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">  }</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">}</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk9">class</span><span class="mtk1"> </span><span class="mtk11">User</span><span class="mtk1"> {</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">  #</span><span class="mtk4">firstName</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk6">&quot;(none)&quot;</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk9">get</span><span class="mtk1"> </span><span class="mtk3">firstName</span><span class="mtk1">() {</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk9">return</span><span class="mtk1"> </span><span class="mtk11">this</span><span class="mtk1">.#</span><span class="mtk4">firstName</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">  }</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">  #</span><span class="mtk4">middleNames</span><span class="mtk1">: </span><span class="mtk11">string</span><span class="mtk1">[] </span><span class="mtk8">=</span><span class="mtk1"> []</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk9">get</span><span class="mtk1"> </span><span class="mtk3">middleNames</span><span class="mtk1">() {</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk9">return</span><span class="mtk1"> </span><span class="mtk11">this</span><span class="mtk1">.#</span><span class="mtk4">middleNames</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">  }</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">  #</span><span class="mtk4">lastName</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk6">&quot;(none)&quot;</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk9">get</span><span class="mtk1"> </span><span class="mtk3">lastName</span><span class="mtk1">() {</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk9">return</span><span class="mtk1"> </span><span class="mtk11">this</span><span class="mtk1">.#</span><span class="mtk4">lastName</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">  }</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">  #</span><span class="mtk4">email</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk6">&quot;(none)&quot;</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk9">get</span><span class="mtk1"> </span><span class="mtk3">email</span><span class="mtk1">() {</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk9">return</span><span class="mtk1"> </span><span class="mtk11">this</span><span class="mtk1">.#</span><span class="mtk4">email</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">  }</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">  #</span><span class="mtk4">birthDate</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk9">new</span><span class="mtk1"> </span><span class="mtk11">Date</span><span class="mtk1">()</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk9">get</span><span class="mtk1"> </span><span class="mtk3">birthDate</span><span class="mtk1">() {</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk9">return</span><span class="mtk1"> </span><span class="mtk11">this</span><span class="mtk1">.#</span><span class="mtk4">birthDate</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">  }</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk9">private</span><span class="mtk1"> </span><span class="mtk9">constructor</span><span class="mtk1">() {}</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk9">static</span><span class="mtk1"> </span><span class="mtk4">Builder</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk9">class</span><span class="mtk1"> {</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">    #</span><span class="mtk4">operations</span><span class="mtk1">: </span><span class="mtk11">BuilderOperation</span><span class="mtk1">[] </span><span class="mtk8">=</span><span class="mtk1"> []</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk3">setFirstName</span><span class="mtk1">(</span><span class="mtk4 mtki">firstName</span><span class="mtk1">: </span><span class="mtk11">string</span><span class="mtk1">) {</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk3">assert</span><span class="mtk1">(</span><span class="mtk11">firstName</span><span class="mtk1">.</span><span class="mtk4">length</span><span class="mtk1"> </span><span class="mtk8">&gt;</span><span class="mtk1"> </span><span class="mtk7">0</span><span class="mtk1">, </span><span class="mtk6">&quot;must not be empty&quot;</span><span class="mtk1">) </span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk11">this</span><span class="mtk1">.#</span><span class="mtk11">operations</span><span class="mtk1">.</span><span class="mtk3">push</span><span class="mtk1">(</span><span class="mtk4 mtki">user</span><span class="mtk1"> </span><span class="mtk9">=&gt;</span><span class="mtk1"> (</span><span class="mtk4">user</span><span class="mtk1">.#</span><span class="mtk4">firstName</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk4">firstName</span><span class="mtk1">)) </span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk9">return</span><span class="mtk1"> </span><span class="mtk11">this</span><span class="mtk1"> </span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">    }</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk3">addMiddleNames</span><span class="mtk1">(...</span><span class="mtk4 mtki">middleNames</span><span class="mtk1">: </span><span class="mtk11">string</span><span class="mtk1">[]) {</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk11">middleNames</span><span class="mtk1">.</span><span class="mtk3">forEach</span><span class="mtk1">(</span><span class="mtk4 mtki">val</span><span class="mtk1"> </span><span class="mtk9">=&gt;</span><span class="mtk1"> </span><span class="mtk3">assert</span><span class="mtk1">(</span><span class="mtk11">val</span><span class="mtk1">.</span><span class="mtk4">length</span><span class="mtk1"> </span><span class="mtk8">&gt;</span><span class="mtk1"> </span><span class="mtk7">0</span><span class="mtk1">, </span><span class="mtk6">&quot;must not be empty&quot;</span><span class="mtk1">))</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk11">this</span><span class="mtk1">.#</span><span class="mtk11">operations</span><span class="mtk1">.</span><span class="mtk3">push</span><span class="mtk1">(</span><span class="mtk4 mtki">user</span><span class="mtk1"> </span><span class="mtk9">=&gt;</span><span class="mtk1"> {</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk4">user</span><span class="mtk1">.#</span><span class="mtk4">middleNames</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk4">user</span><span class="mtk1">.#</span><span class="mtk11">middleNames</span><span class="mtk1">.</span><span class="mtk3">concat</span><span class="mtk1">(</span><span class="mtk4">middleNames</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      })</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk9">return</span><span class="mtk1"> </span><span class="mtk11">this</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">    }</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk3">removeMiddleNames</span><span class="mtk1">(...</span><span class="mtk4 mtki">middleNames</span><span class="mtk1">: </span><span class="mtk11">string</span><span class="mtk1">[]) {</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk11">this</span><span class="mtk1">.#</span><span class="mtk11">operations</span><span class="mtk1">.</span><span class="mtk3">push</span><span class="mtk1">(</span><span class="mtk4 mtki">user</span><span class="mtk1"> </span><span class="mtk9">=&gt;</span><span class="mtk1"> {</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk4">user</span><span class="mtk1">.#</span><span class="mtk4">middleNames</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk4">user</span><span class="mtk1">.#</span><span class="mtk11">middleNames</span><span class="mtk1">.</span><span class="mtk3">filter</span><span class="mtk1">(</span><span class="mtk4 mtki">val</span><span class="mtk1"> </span><span class="mtk9">=&gt;</span><span class="mtk1"> {</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">          </span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">          </span><span class="mtk9">return</span><span class="mtk1"> </span><span class="mtk8">!</span><span class="mtk11">middleNames</span><span class="mtk1">.</span><span class="mtk3">includes</span><span class="mtk1">(</span><span class="mtk4">val</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">        })</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      })</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk9">return</span><span class="mtk1"> </span><span class="mtk11">this</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">    }</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk3">setLastName</span><span class="mtk1">(</span><span class="mtk4 mtki">lastName</span><span class="mtk1">: </span><span class="mtk11">string</span><span class="mtk1">) {</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk3">assert</span><span class="mtk1">(</span><span class="mtk11">lastName</span><span class="mtk1">.</span><span class="mtk4">length</span><span class="mtk1"> </span><span class="mtk8">&gt;</span><span class="mtk1"> </span><span class="mtk7">0</span><span class="mtk1">, </span><span class="mtk6">&quot;must not be empty&quot;</span><span class="mtk1">) </span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk11">this</span><span class="mtk1">.#</span><span class="mtk11">operations</span><span class="mtk1">.</span><span class="mtk3">push</span><span class="mtk1">(</span><span class="mtk4 mtki">user</span><span class="mtk1"> </span><span class="mtk9">=&gt;</span><span class="mtk1"> (</span><span class="mtk4">user</span><span class="mtk1">.#</span><span class="mtk4">lastName</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk4">lastName</span><span class="mtk1">)) </span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk9">return</span><span class="mtk1"> </span><span class="mtk11">this</span><span class="mtk1"> </span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">    }</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk3">setEmail</span><span class="mtk1">(</span><span class="mtk4 mtki">email</span><span class="mtk1">: </span><span class="mtk11">string</span><span class="mtk1">) {</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk3">assert</span><span class="mtk1">(</span><span class="mtk11">email</span><span class="mtk1">.</span><span class="mtk4">length</span><span class="mtk1"> </span><span class="mtk8">&gt;</span><span class="mtk1"> </span><span class="mtk7">0</span><span class="mtk1">, </span><span class="mtk6">&quot;must not be empty&quot;</span><span class="mtk1">) </span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk11">this</span><span class="mtk1">.#</span><span class="mtk11">operations</span><span class="mtk1">.</span><span class="mtk3">push</span><span class="mtk1">(</span><span class="mtk4 mtki">user</span><span class="mtk1"> </span><span class="mtk9">=&gt;</span><span class="mtk1"> (</span><span class="mtk4">user</span><span class="mtk1">.#</span><span class="mtk4">email</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk4">email</span><span class="mtk1">)) </span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk9">return</span><span class="mtk1"> </span><span class="mtk11">this</span><span class="mtk1"> </span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">    }</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk3">setBirthDate</span><span class="mtk1">(</span><span class="mtk4 mtki">birthDate</span><span class="mtk1">: </span><span class="mtk11">Date</span><span class="mtk1">) {</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk3">assert</span><span class="mtk1">(</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk11">birthDate</span><span class="mtk1">.</span><span class="mtk3">getTime</span><span class="mtk1">() </span><span class="mtk8">&lt;=</span><span class="mtk1"> </span><span class="mtk11">Date</span><span class="mtk1">.</span><span class="mtk3">now</span><span class="mtk1">(),</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk6">&quot;must be lower or equal to the current date&quot;</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      )</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk11">this</span><span class="mtk1">.#</span><span class="mtk11">operations</span><span class="mtk1">.</span><span class="mtk3">push</span><span class="mtk1">(</span><span class="mtk4 mtki">user</span><span class="mtk1"> </span><span class="mtk9">=&gt;</span><span class="mtk1"> {</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk9">const</span><span class="mtk1"> </span><span class="mtk11">b</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk4">birthDate</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk4">user</span><span class="mtk1">.#</span><span class="mtk4">birthDate</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk9">new</span><span class="mtk1"> </span><span class="mtk11">Date</span><span class="mtk1">(</span><span class="mtk11">b</span><span class="mtk1">.</span><span class="mtk3">getFullYear</span><span class="mtk1">(), </span><span class="mtk11">b</span><span class="mtk1">.</span><span class="mtk3">getMonth</span><span class="mtk1">(), </span><span class="mtk11">b</span><span class="mtk1">.</span><span class="mtk3">getDate</span><span class="mtk1">())</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      })</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk9">return</span><span class="mtk1"> </span><span class="mtk11">this</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">    }</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk3">build</span><span class="mtk1">(): </span><span class="mtk11">User</span><span class="mtk1"> {</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk9">const</span><span class="mtk1"> </span><span class="mtk11">user</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk9">new</span><span class="mtk1"> </span><span class="mtk11">User</span><span class="mtk1">()</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk9">for</span><span class="mtk1"> (</span><span class="mtk9">const</span><span class="mtk1"> </span><span class="mtk11">applyOperation</span><span class="mtk1"> </span><span class="mtk9">of</span><span class="mtk1"> </span><span class="mtk11">this</span><span class="mtk1">.#</span><span class="mtk4">operations</span><span class="mtk1">) {</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk3">applyOperation</span><span class="mtk1">(</span><span class="mtk4">user</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      }</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk9">return</span><span class="mtk1"> </span><span class="mtk4">user</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">    }</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">  }</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">}</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk9">type</span><span class="mtk1"> </span><span class="mtk11">UserComposer</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> (</span><span class="mtk4 mtki">builder</span><span class="mtk1">: </span><span class="mtk9">typeof</span><span class="mtk1"> </span><span class="mtk11">User</span><span class="mtk1">.</span><span class="mtk11">Builder</span><span class="mtk1">.</span><span class="mtk11">prototype</span><span class="mtk1">) </span><span class="mtk9">=&gt;</span><span class="mtk1"> </span><span class="mtk11">void</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk9">function</span><span class="mtk1"> </span><span class="mtk3">composeUser</span><span class="mtk1">(</span><span class="mtk4 mtki">userComposer</span><span class="mtk1">: </span><span class="mtk11">UserComposer</span><span class="mtk1">) {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk9">const</span><span class="mtk1"> </span><span class="mtk11">builder</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk9">new</span><span class="mtk1"> </span><span class="mtk11">User</span><span class="mtk1">.</span><span class="mtk11">Builder</span><span class="mtk1">()</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk3">userComposer</span><span class="mtk1">(</span><span class="mtk4">builder</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk9">return</span><span class="mtk1"> </span><span class="mtk11">builder</span><span class="mtk1">.</span><span class="mtk3">build</span><span class="mtk1">()</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">}</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk5 mtki">// usage:</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk9">const</span><span class="mtk1"> </span><span class="mtk11">user</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk3">composeUser</span><span class="mtk1">(</span><span class="mtk4 mtki">user</span><span class="mtk1"> </span><span class="mtk9">=&gt;</span><span class="mtk1"> {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk4">user</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    .</span><span class="mtk3">setFirstName</span><span class="mtk1">(</span><span class="mtk6">&quot;John&quot;</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    .</span><span class="mtk3">addMiddleNames</span><span class="mtk1">(</span><span class="mtk6">&quot;Larry&quot;</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    .</span><span class="mtk3">setLastName</span><span class="mtk1">(</span><span class="mtk6">&quot;Doe&quot;</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    .</span><span class="mtk3">setEmail</span><span class="mtk1">(</span><span class="mtk6">&quot;john@doe.com&quot;</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    .</span><span class="mtk3">setBirthDate</span><span class="mtk1">(</span><span class="mtk9">new</span><span class="mtk1"> </span><span class="mtk11">Date</span><span class="mtk1">(</span><span class="mtk6">&quot;1990-01-01&quot;</span><span class="mtk1">))</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">})</span></span></span></code></pre></div></div><input type="radio" id="tab-input-480935" name="tabs-214204" class="tabs__StyledInput-sc-r72q5y-5 hcGGwe"/><label id="tab-480935" class="tabs__StyledTabHeader-sc-r72q5y-3 fPGOqD focusable" for="tab-input-480935" tabindex="0" role="tab" aria-selected="false">JavaScript</label><div role="tabpanel" aria-labelledby="tab-480935" class="tabs__StyledTab-sc-r72q5y-4 gcZeIL"><div class="code-fold__StyledCodeFold-sc-1srb7sn-2 eLYoyQ"><input type="checkbox" id="code-fold-151800" class="code-fold__Input-sc-1srb7sn-1 eGXXRT"/><label title="Toggle expanded code" tabindex="0" class="code-fold__Label-sc-1srb7sn-0 djFbkI focusable" for="code-fold-151800" role="checkbox" aria-label="Check to expand the code" aria-checked="false"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="plus" class="svg-inline--fa fa-plus " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"></path></svg></label><pre class="grvsc-container grvsc-has-line-highlighting one-dark-pro" data-language="js" data-index="16"><code class="grvsc-code"><span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk9">function</span><span class="mtk1"> </span><span class="mtk3">assert</span><span class="mtk1">(</span><span class="mtk4 mtki">value</span><span class="mtk1">, </span><span class="mtk4 mtki">message</span><span class="mtk1">) {</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk9">if</span><span class="mtk1"> (</span><span class="mtk4">value</span><span class="mtk1"> </span><span class="mtk8">===</span><span class="mtk1"> </span><span class="mtk7">false</span><span class="mtk1">) {</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk9">throw</span><span class="mtk1"> </span><span class="mtk9">new</span><span class="mtk1"> </span><span class="mtk11">Error</span><span class="mtk1">(</span><span class="mtk4">message</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">  }</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">}</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk9">class</span><span class="mtk1"> </span><span class="mtk11">User</span><span class="mtk1"> {</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">  #</span><span class="mtk4">firstName</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk6">&quot;(none)&quot;</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk9">get</span><span class="mtk1"> </span><span class="mtk3">firstName</span><span class="mtk1">() {</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk9">return</span><span class="mtk1"> </span><span class="mtk11">this</span><span class="mtk1">.#</span><span class="mtk4">firstName</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">  }</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">  #</span><span class="mtk4">middleNames</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> []</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk9">get</span><span class="mtk1"> </span><span class="mtk3">middleNames</span><span class="mtk1">() {</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk9">return</span><span class="mtk1"> </span><span class="mtk11">this</span><span class="mtk1">.#</span><span class="mtk4">middleNames</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">  }</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">  #</span><span class="mtk4">lastName</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk6">&quot;(none)&quot;</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk9">get</span><span class="mtk1"> </span><span class="mtk3">lastName</span><span class="mtk1">() {</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk9">return</span><span class="mtk1"> </span><span class="mtk11">this</span><span class="mtk1">.#</span><span class="mtk4">lastName</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">  }</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">  #</span><span class="mtk4">email</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk6">&quot;(none)&quot;</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk9">get</span><span class="mtk1"> </span><span class="mtk3">email</span><span class="mtk1">() {</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk9">return</span><span class="mtk1"> </span><span class="mtk11">this</span><span class="mtk1">.#</span><span class="mtk4">email</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">  }</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">  #</span><span class="mtk4">birthDate</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk9">new</span><span class="mtk1"> </span><span class="mtk11">Date</span><span class="mtk1">()</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk9">get</span><span class="mtk1"> </span><span class="mtk3">birthDate</span><span class="mtk1">() {</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk9">return</span><span class="mtk1"> </span><span class="mtk11">this</span><span class="mtk1">.#</span><span class="mtk4">birthDate</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">  }</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk9">static</span><span class="mtk1"> </span><span class="mtk4">Builder</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk9">class</span><span class="mtk1"> {</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">    #</span><span class="mtk4">operations</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> []</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk3">setFirstName</span><span class="mtk1">(</span><span class="mtk4 mtki">firstName</span><span class="mtk1">) {</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk3">assert</span><span class="mtk1">(</span><span class="mtk11">firstName</span><span class="mtk1">.</span><span class="mtk4">length</span><span class="mtk1"> </span><span class="mtk8">&gt;</span><span class="mtk1"> </span><span class="mtk7">0</span><span class="mtk1">, </span><span class="mtk6">&quot;must not be empty&quot;</span><span class="mtk1">) </span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk11">this</span><span class="mtk1">.#</span><span class="mtk11">operations</span><span class="mtk1">.</span><span class="mtk3">push</span><span class="mtk1">(</span><span class="mtk4 mtki">user</span><span class="mtk1"> </span><span class="mtk9">=&gt;</span><span class="mtk1"> (</span><span class="mtk4">user</span><span class="mtk1">.#</span><span class="mtk4">firstName</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk4">firstName</span><span class="mtk1">)) </span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk9">return</span><span class="mtk1"> </span><span class="mtk11">this</span><span class="mtk1"> </span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">    }</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk3">addMiddleNames</span><span class="mtk1">(...</span><span class="mtk4 mtki">middleNames</span><span class="mtk1">) {</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk11">middleNames</span><span class="mtk1">.</span><span class="mtk3">forEach</span><span class="mtk1">(</span><span class="mtk4 mtki">val</span><span class="mtk1"> </span><span class="mtk9">=&gt;</span><span class="mtk1"> </span><span class="mtk3">assert</span><span class="mtk1">(</span><span class="mtk11">val</span><span class="mtk1">.</span><span class="mtk4">length</span><span class="mtk1"> </span><span class="mtk8">&gt;</span><span class="mtk1"> </span><span class="mtk7">0</span><span class="mtk1">, </span><span class="mtk6">&quot;must not be empty&quot;</span><span class="mtk1">))</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk11">this</span><span class="mtk1">.#</span><span class="mtk11">operations</span><span class="mtk1">.</span><span class="mtk3">push</span><span class="mtk1">(</span><span class="mtk4 mtki">user</span><span class="mtk1"> </span><span class="mtk9">=&gt;</span><span class="mtk1"> {</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk4">user</span><span class="mtk1">.#</span><span class="mtk4">middleNames</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk4">user</span><span class="mtk1">.#</span><span class="mtk11">middleNames</span><span class="mtk1">.</span><span class="mtk3">concat</span><span class="mtk1">(</span><span class="mtk4">middleNames</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      })</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk9">return</span><span class="mtk1"> </span><span class="mtk11">this</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">    }</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk3">removeMiddleNames</span><span class="mtk1">(...</span><span class="mtk4 mtki">middleNames</span><span class="mtk1">) {</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk11">this</span><span class="mtk1">.#</span><span class="mtk11">operations</span><span class="mtk1">.</span><span class="mtk3">push</span><span class="mtk1">(</span><span class="mtk4 mtki">user</span><span class="mtk1"> </span><span class="mtk9">=&gt;</span><span class="mtk1"> {</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk4">user</span><span class="mtk1">.#</span><span class="mtk4">middleNames</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk4">user</span><span class="mtk1">.#</span><span class="mtk11">middleNames</span><span class="mtk1">.</span><span class="mtk3">filter</span><span class="mtk1">(</span><span class="mtk4 mtki">val</span><span class="mtk1"> </span><span class="mtk9">=&gt;</span><span class="mtk1"> {</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">          </span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">          </span><span class="mtk9">return</span><span class="mtk1"> </span><span class="mtk8">!</span><span class="mtk11">middleNames</span><span class="mtk1">.</span><span class="mtk3">includes</span><span class="mtk1">(</span><span class="mtk4">val</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">        })</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      })</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk9">return</span><span class="mtk1"> </span><span class="mtk11">this</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">    }</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk3">setLastName</span><span class="mtk1">(</span><span class="mtk4 mtki">lastName</span><span class="mtk1">) {</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk3">assert</span><span class="mtk1">(</span><span class="mtk11">lastName</span><span class="mtk1">.</span><span class="mtk4">length</span><span class="mtk1"> </span><span class="mtk8">&gt;</span><span class="mtk1"> </span><span class="mtk7">0</span><span class="mtk1">, </span><span class="mtk6">&quot;must not be empty&quot;</span><span class="mtk1">) </span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk11">this</span><span class="mtk1">.#</span><span class="mtk11">operations</span><span class="mtk1">.</span><span class="mtk3">push</span><span class="mtk1">(</span><span class="mtk4 mtki">user</span><span class="mtk1"> </span><span class="mtk9">=&gt;</span><span class="mtk1"> (</span><span class="mtk4">user</span><span class="mtk1">.#</span><span class="mtk4">lastName</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk4">lastName</span><span class="mtk1">)) </span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk9">return</span><span class="mtk1"> </span><span class="mtk11">this</span><span class="mtk1"> </span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">    }</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk3">setEmail</span><span class="mtk1">(</span><span class="mtk4 mtki">email</span><span class="mtk1">) {</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk3">assert</span><span class="mtk1">(</span><span class="mtk11">email</span><span class="mtk1">.</span><span class="mtk4">length</span><span class="mtk1"> </span><span class="mtk8">&gt;</span><span class="mtk1"> </span><span class="mtk7">0</span><span class="mtk1">, </span><span class="mtk6">&quot;must not be empty&quot;</span><span class="mtk1">) </span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk11">this</span><span class="mtk1">.#</span><span class="mtk11">operations</span><span class="mtk1">.</span><span class="mtk3">push</span><span class="mtk1">(</span><span class="mtk4 mtki">user</span><span class="mtk1"> </span><span class="mtk9">=&gt;</span><span class="mtk1"> (</span><span class="mtk4">user</span><span class="mtk1">.#</span><span class="mtk4">email</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk4">email</span><span class="mtk1">)) </span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk9">return</span><span class="mtk1"> </span><span class="mtk11">this</span><span class="mtk1"> </span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">    }</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk3">setBirthDate</span><span class="mtk1">(</span><span class="mtk4 mtki">birthDate</span><span class="mtk1">) {</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk3">assert</span><span class="mtk1">(</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk11">birthDate</span><span class="mtk1">.</span><span class="mtk3">getTime</span><span class="mtk1">() </span><span class="mtk8">&lt;=</span><span class="mtk1"> </span><span class="mtk11">Date</span><span class="mtk1">.</span><span class="mtk3">now</span><span class="mtk1">(),</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk6">&quot;must be lower or equal to the current date&quot;</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      )</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk11">this</span><span class="mtk1">.#</span><span class="mtk11">operations</span><span class="mtk1">.</span><span class="mtk3">push</span><span class="mtk1">(</span><span class="mtk4 mtki">user</span><span class="mtk1"> </span><span class="mtk9">=&gt;</span><span class="mtk1"> {</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk9">const</span><span class="mtk1"> </span><span class="mtk11">b</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk4">birthDate</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk4">user</span><span class="mtk1">.#</span><span class="mtk4">birthDate</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk9">new</span><span class="mtk1"> </span><span class="mtk11">Date</span><span class="mtk1">(</span><span class="mtk11">b</span><span class="mtk1">.</span><span class="mtk3">getFullYear</span><span class="mtk1">(), </span><span class="mtk11">b</span><span class="mtk1">.</span><span class="mtk3">getMonth</span><span class="mtk1">(), </span><span class="mtk11">b</span><span class="mtk1">.</span><span class="mtk3">getDate</span><span class="mtk1">())</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      })</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk9">return</span><span class="mtk1"> </span><span class="mtk11">this</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">    }</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk3">build</span><span class="mtk1">() {</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk9">const</span><span class="mtk1"> </span><span class="mtk11">user</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk9">new</span><span class="mtk1"> </span><span class="mtk11">User</span><span class="mtk1">()</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk9">for</span><span class="mtk1"> (</span><span class="mtk9">const</span><span class="mtk1"> </span><span class="mtk11">applyOperation</span><span class="mtk1"> </span><span class="mtk9">of</span><span class="mtk1"> </span><span class="mtk11">this</span><span class="mtk1">.#</span><span class="mtk4">operations</span><span class="mtk1">) {</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk3">applyOperation</span><span class="mtk1">(</span><span class="mtk4">user</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      }</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk9">return</span><span class="mtk1"> </span><span class="mtk4">user</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">    }</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">  }</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">}</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk9">function</span><span class="mtk1"> </span><span class="mtk3">composeUser</span><span class="mtk1">(</span><span class="mtk4 mtki">userComposer</span><span class="mtk1">) {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk9">const</span><span class="mtk1"> </span><span class="mtk11">builder</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk9">new</span><span class="mtk1"> </span><span class="mtk11">User</span><span class="mtk1">.</span><span class="mtk11">Builder</span><span class="mtk1">()</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk3">userComposer</span><span class="mtk1">(</span><span class="mtk4">builder</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk9">return</span><span class="mtk1"> </span><span class="mtk11">builder</span><span class="mtk1">.</span><span class="mtk3">build</span><span class="mtk1">()</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">}</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk5 mtki">// usage:</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk9">const</span><span class="mtk1"> </span><span class="mtk11">user</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk3">composeUser</span><span class="mtk1">(</span><span class="mtk4 mtki">user</span><span class="mtk1"> </span><span class="mtk9">=&gt;</span><span class="mtk1"> {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk4">user</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    .</span><span class="mtk3">setFirstName</span><span class="mtk1">(</span><span class="mtk6">&quot;John&quot;</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    .</span><span class="mtk3">addMiddleNames</span><span class="mtk1">(</span><span class="mtk6">&quot;Larry&quot;</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    .</span><span class="mtk3">setLastName</span><span class="mtk1">(</span><span class="mtk6">&quot;Doe&quot;</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    .</span><span class="mtk3">setEmail</span><span class="mtk1">(</span><span class="mtk6">&quot;john@doe.com&quot;</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    .</span><span class="mtk3">setBirthDate</span><span class="mtk1">(</span><span class="mtk9">new</span><span class="mtk1"> </span><span class="mtk11">Date</span><span class="mtk1">(</span><span class="mtk6">&quot;1990-01-01&quot;</span><span class="mtk1">))</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">})</span></span></span></code></pre></div></div></section><h2 id="one-last-thing" class="post__Heading-sc-l8w1nw-7 iyjDKM"><a href="#one-last-thing" class="button__IconButton-sc-ja09rx-0 post__HeadingLink-sc-l8w1nw-6 dnHkDR buhAuq link-no-color-when-inactive link-no-color-when-inactive" title="Link to &quot;One last thing&quot; heading" aria-hidden="true"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="link" class="svg-inline--fa fa-link " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"></path></svg></a>One last thing</h2><p><a href="#note-about-sql-query-builders">I told you earlier the <code>User</code> class is not a good example</a>, so let&#x27;s explore a better one: a SQL query builder. We&#x27;re not going to create our own but we&#x27;re going to use <a href="https://knexjs.org/">Knex.js</a>.</p><p>Imagine we have an HTTP API to list some books, the URL is <code>https://api.example.com/books</code>. When we query this URL, we return all the books we have in the database, the SQL query is really simple:</p><pre class="grvsc-container one-dark-pro" data-language="sql" data-index="17"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source"><span class="mtk9">select</span><span class="mtk1"> </span><span class="mtk6">`title`</span><span class="mtk1">, </span><span class="mtk6">`author`</span><span class="mtk1">, </span><span class="mtk6">`year`</span><span class="mtk1"> </span><span class="mtk9">from</span><span class="mtk1"> </span><span class="mtk6">`books`</span></span></span></code></pre><p>But our API doesn&#x27;t bring much here, what about supporting some filters and aggregators? We want to be able to search for a title or an author, and we want to be able to count without returning all the books.</p><p>This is something you can do manually by building your own SQL query in a string, but it will become messier each time you add a new filter or a new aggregation. Here&#x27;s how you can do by using Knex.js as your SQL query builder:</p><div class="code-fold__StyledCodeFold-sc-1srb7sn-2 eLYoyQ"><input type="checkbox" id="code-fold-835450" class="code-fold__Input-sc-1srb7sn-1 eGXXRT"/><label title="Toggle expanded code" tabindex="0" class="code-fold__Label-sc-1srb7sn-0 djFbkI focusable" for="code-fold-835450" role="checkbox" aria-label="Check to expand the code" aria-checked="false"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="plus" class="svg-inline--fa fa-plus " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"></path></svg></label><pre class="grvsc-container grvsc-has-line-highlighting one-dark-pro" data-language="ts" data-index="18"><code class="grvsc-code"><span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk9">declare</span><span class="mtk1"> </span><span class="mtk9">const</span><span class="mtk1"> </span><span class="mtk11">httpRequestParams</span><span class="mtk1">: </span><span class="mtk11">URLSearchParams</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk9">const</span><span class="mtk1"> </span><span class="mtk11">knex</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk8">require</span><span class="mtk1">(</span><span class="mtk6">&quot;knex&quot;</span><span class="mtk1">)({</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk4">client</span><span class="mtk1">: </span><span class="mtk6">&quot;sqlite3&quot;</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk4">connection</span><span class="mtk1">: {</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk4">filename</span><span class="mtk1">: </span><span class="mtk6">&quot;./mydb.sqlite&quot;</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">  },</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk4">useNullAsDefault</span><span class="mtk1">: </span><span class="mtk7">true</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"><span class="mtk1">})</span></span></span>
<span class="grvsc-line grvsc-line-highlighted"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk9">const</span><span class="mtk1"> </span><span class="mtk11">query</span><span class="mtk1"> </span><span class="mtk8">=</span><span class="mtk1"> </span><span class="mtk11">knex</span><span class="mtk1">.</span><span class="mtk3">select</span><span class="mtk1">(</span><span class="mtk6">&quot;title&quot;</span><span class="mtk1">, </span><span class="mtk6">&quot;author&quot;</span><span class="mtk1">, </span><span class="mtk6">&quot;year&quot;</span><span class="mtk1">).</span><span class="mtk3">from</span><span class="mtk1">(</span><span class="mtk6">&quot;books&quot;</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk5 mtki">// if a title is provided in the URL parameters, filter only the matching ones</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk9">if</span><span class="mtk1"> (</span><span class="mtk11">httpRequestParams</span><span class="mtk1">.</span><span class="mtk3">has</span><span class="mtk1">(</span><span class="mtk6">&quot;title&quot;</span><span class="mtk1">)) {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk11">query</span><span class="mtk1">.</span><span class="mtk3">orWhere</span><span class="mtk1">(</span><span class="mtk6">&quot;title&quot;</span><span class="mtk1">, </span><span class="mtk6">&quot;like&quot;</span><span class="mtk1">, </span><span class="mtk6">`%</span><span class="mtk9">${</span><span class="mtk11">httpRequestParams</span><span class="mtk1">.</span><span class="mtk3">get</span><span class="mtk1">(</span><span class="mtk6">&quot;title&quot;</span><span class="mtk1">)</span><span class="mtk9">}</span><span class="mtk6">%`</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">}</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk5 mtki">// if an author is provided in the URL parameters, filter only the matching ones</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk9">if</span><span class="mtk1"> (</span><span class="mtk11">httpRequestParams</span><span class="mtk1">.</span><span class="mtk3">has</span><span class="mtk1">(</span><span class="mtk6">&quot;author&quot;</span><span class="mtk1">)) {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk11">query</span><span class="mtk1">.</span><span class="mtk3">orWhere</span><span class="mtk1">(</span><span class="mtk6">&quot;author&quot;</span><span class="mtk1">, </span><span class="mtk6">&quot;like&quot;</span><span class="mtk1">, </span><span class="mtk6">`%</span><span class="mtk9">${</span><span class="mtk11">httpRequestParams</span><span class="mtk1">.</span><span class="mtk3">get</span><span class="mtk1">(</span><span class="mtk6">&quot;author&quot;</span><span class="mtk1">)</span><span class="mtk9">}</span><span class="mtk6">%`</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">}</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk5 mtki">// if we only want to count, clear the selection and count on the `id` column</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk9">if</span><span class="mtk1"> (</span><span class="mtk11">httpRequestParams</span><span class="mtk1">.</span><span class="mtk3">has</span><span class="mtk1">(</span><span class="mtk6">&quot;shouldCount&quot;</span><span class="mtk1">)) {</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk11">query</span><span class="mtk1">.</span><span class="mtk3">clear</span><span class="mtk1">(</span><span class="mtk6">&quot;select&quot;</span><span class="mtk1">).</span><span class="mtk3">count</span><span class="mtk1">(</span><span class="mtk6">&quot;id&quot;</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">}</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk11">console</span><span class="mtk1">.</span><span class="mtk3">log</span><span class="mtk1">(</span><span class="mtk11">query</span><span class="mtk1">.</span><span class="mtk3">toString</span><span class="mtk1">())</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk5 mtki">// examples:</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk5 mtki">// URL: https://api.example.com/books</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk5 mtki">// ✅ prints: select `title`, `author`, `year` from `books`</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk5 mtki">// URL: https://api.example.com/books?title=game</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk5 mtki">// ✅ prints: select `title`, `author`, `year` from `books` where `title` like &#x27;%game%&#x27;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk5 mtki">// URL: https://api.example.com/books?title=game&amp;author=George</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk5 mtki">// ✅ prints: select `title`, `author`, `year` from `books` where `title` like &#x27;%game%&#x27; or `author` like &#x27;%George%&#x27;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk5 mtki">// URL: https://api.example.com/books?title=game&amp;shouldCount=true</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk5 mtki">// ✅ prints: select count(`id`) from `books` where `title` like &#x27;%game%&#x27;</span></span></span></code></pre></div><p>This is what the Builder design pattern is meant to do, help the developer build some complex values by providing an extensive API. It should allow to setup the various properties of the value in any order and ensure everything is properly configured to generate a valid value at the end.</p><p>I hope I was able to help you understand how valuable this pattern could be, in all languages.</p><style class="grvsc-styles">
  
  .one-dark-pro {
    background-color: #282c34;
    color: #abb2bf;
  }
  .one-dark-pro .mtki { font-style: italic; }
  .one-dark-pro .mtk9 { color: #C678DD; }
  .one-dark-pro .mtk1 { color: #ABB2BF; }
  .one-dark-pro .mtk11 { color: #E5C07B; }
  .one-dark-pro .mtk4 { color: #E06C75; }
  .one-dark-pro .mtk8 { color: #56B6C2; }
  .one-dark-pro .mtk6 { color: #98C379; }
  .one-dark-pro .mtk5 { color: #7F848E; }
  .one-dark-pro .mtk3 { color: #61AFEF; }
  .one-dark-pro .mtk7 { color: #D19A66; }
  .one-dark-pro .grvsc-line-highlighted::before {
    background-color: var(--grvsc-line-highlighted-background-color, rgba(255, 255, 255, 0.1));
    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(255, 255, 255, 0.5));
  }
</style></div><div class="content__Content-sc-t48hnk-0 post__Share-sc-l8w1nw-2 bMsSPo kzuCuO"><div><a href="https://twitter.com/intent/tweet?url=undefined&amp;via=johannpardanaud" target="_blank" rel="noopener noreferrer" title="Share on Twitter" aria-label="Share on Twitter" class="button__IconButton-sc-ja09rx-0 post__StyledShareButton-sc-l8w1nw-3 dnHkDR iHUsPX link-no-color-when-inactive"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="twitter" class="svg-inline--fa fa-twitter fa-fw " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"></path></svg></a><a href="https://www.linkedin.com/sharing/share-offsite/?url=undefined" target="_blank" rel="noopener noreferrer" title="Share on LinkedIn" aria-label="Share on LinkedIn" class="button__IconButton-sc-ja09rx-0 post__StyledShareButton-sc-l8w1nw-3 dnHkDR iHUsPX link-no-color-when-inactive"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="linkedin-in" class="svg-inline--fa fa-linkedin-in fa-fw " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M100.28 448H7.4V148.9h92.88zM53.79 108.1C24.09 108.1 0 83.5 0 53.8a53.79 53.79 0 0 1 107.58 0c0 29.7-24.1 54.3-53.79 54.3zM447.9 448h-92.68V302.4c0-34.7-.7-79.2-48.29-79.2-48.29 0-55.69 37.7-55.69 76.7V448h-92.78V148.9h89.08v40.8h1.3c12.4-23.5 42.69-48.3 87.88-48.3 94 0 111.28 61.9 111.28 142.3V448z"></path></svg></a><a href="https://www.facebook.com/sharer.php?u=undefined" target="_blank" rel="noopener noreferrer" title="Share on Facebook" aria-label="Share on Facebook" class="button__IconButton-sc-ja09rx-0 post__StyledShareButton-sc-l8w1nw-3 dnHkDR iHUsPX link-no-color-when-inactive"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="facebook-f" class="svg-inline--fa fa-facebook-f fa-fw " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentColor" d="M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 225.36 0c-73.22 0-121.08 44.38-121.08 124.72v70.62H22.89V288h81.39v224h100.17V288z"></path></svg></a></div></div></article></main></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/blog/modern-builder-design-pattern-in-javascript/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-4a818656962a76617895.js"],"app":["/app-b8f044a4d43bf259ef7a.js"],"component---src-pages-404-js":["/component---src-pages-404-js-3fd80fc84461850e8c30.js"],"component---src-pages-blog-js":["/component---src-pages-blog-js-18c38ce676ee07117c4e.js"],"component---src-pages-index-js":["/component---src-pages-index-js-39b2c688497191c226e2.js"],"component---src-templates-post-js":["/component---src-templates-post-js-dcb8e9e5dfbdb1e3ac22.js"]};/*]]>*/</script><script src="/polyfill-4a818656962a76617895.js" nomodule=""></script><script src="/component---src-templates-post-js-dcb8e9e5dfbdb1e3ac22.js" async=""></script><script src="/291a736a4998dc6bb1e7dae6dfd245355445eafd-6ac33ee7d44586680e94.js" async=""></script><script src="/commons-5b2d0278f9ad19a149ab.js" async=""></script><script src="/a9a7754c-af050843e75a27779682.js" async=""></script><script src="/cb1608f2-204ee177e0779f974097.js" async=""></script><script src="/app-b8f044a4d43bf259ef7a.js" async=""></script><script src="/framework-48c52bd1e5a78d41fccc.js" async=""></script><script src="/webpack-runtime-8b19332fe2a1c88eb1a0.js" async=""></script></body></html>